!function(){var e,t,r={452:function(e,t,r){var n;e.exports=(n=r(3345),r(8269),r(8214),r(888),r(5109),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,o=[],i=[],a=[],c=[],s=[],u=[],l=[],d=[],p=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var _=n^n<<1^n<<2^n<<3^n<<4;_=_>>>8^255&_^99,o[r]=_,i[_]=r;var m=e[r],f=e[m],y=e[f],g=257*e[_]^16843008*_;a[r]=g<<24|g>>>8,c[r]=g<<16|g>>>16,s[r]=g<<8|g>>>24,u[r]=g,g=16843009*y^65537*f^257*m^16843008*r,l[_]=g<<24|g>>>8,d[_]=g<<16|g>>>16,p[_]=g<<8|g>>>24,h[_]=g,r?(r=m^e[e[e[y^m]]],n^=e[e[n]]):r=n=1}}();var _=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),i=this._keySchedule=[],a=0;a<n;a++)a<r?i[a]=t[a]:(u=i[a-1],a%r?r>6&&a%r==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=o[(u=u<<8|u>>>24)>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=_[a/r|0]<<24),i[a]=i[a-r]^u);for(var c=this._invKeySchedule=[],s=0;s<n;s++){if(a=n-s,s%4)var u=i[a];else u=i[a-4];c[s]=s<4||a<=4?u:l[o[u>>>24]]^d[o[u>>>16&255]]^p[o[u>>>8&255]]^h[o[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,c,s,u,o)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,d,p,h,i),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,o,i,a,c){for(var s=this._nRounds,u=e[t]^r[0],l=e[t+1]^r[1],d=e[t+2]^r[2],p=e[t+3]^r[3],h=4,_=1;_<s;_++){var m=n[u>>>24]^o[l>>>16&255]^i[d>>>8&255]^a[255&p]^r[h++],f=n[l>>>24]^o[d>>>16&255]^i[p>>>8&255]^a[255&u]^r[h++],y=n[d>>>24]^o[p>>>16&255]^i[u>>>8&255]^a[255&l]^r[h++],g=n[p>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&d]^r[h++];u=m,l=f,d=y,p=g}m=(c[u>>>24]<<24|c[l>>>16&255]<<16|c[d>>>8&255]<<8|c[255&p])^r[h++],f=(c[l>>>24]<<24|c[d>>>16&255]<<16|c[p>>>8&255]<<8|c[255&u])^r[h++],y=(c[d>>>24]<<24|c[p>>>16&255]<<16|c[u>>>8&255]<<8|c[255&l])^r[h++],g=(c[p>>>24]<<24|c[u>>>16&255]<<16|c[l>>>8&255]<<8|c[255&d])^r[h++],e[t]=m,e[t+1]=f,e[t+2]=y,e[t+3]=g},keySize:8});e.AES=t._createHelper(m)}(),n.AES)},5109:function(e,t,r){var n,o,i,a,c,s,u,l,d,p,h,_,m,f,y,g,w,v,C;e.exports=(n=r(3345),r(888),void(n.lib.Cipher||(o=n,i=o.lib,a=i.Base,c=i.WordArray,s=i.BufferedBlockAlgorithm,u=o.enc,u.Utf8,l=u.Base64,d=o.algo.EvpKDF,p=i.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?C:w}return function(t){return{encrypt:function(r,n,o){return e(n).encrypt(t,r,n,o)},decrypt:function(r,n,o){return e(n).decrypt(t,r,n,o)}}}}()}),i.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=o.mode={},_=i.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=h.CBC=function(){var e=_.extend();function t(e,t,r){var n,o=this._iv;o?(n=o,this._iv=void 0):n=this._prevBlock;for(var i=0;i<r;i++)e[t+i]^=n[i]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,o=n.blockSize;t.call(this,e,r,o),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+o)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,o=n.blockSize,i=e.slice(r,r+o);n.decryptBlock(e,r),t.call(this,e,r,o),this._prevBlock=i}}),e}(),f=(o.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,o=n<<24|n<<16|n<<8|n,i=[],a=0;a<n;a+=4)i.push(o);var s=c.create(i,n);e.concat(s)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=p.extend({cfg:p.cfg.extend({mode:m,padding:f}),reset:function(){var e;p.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=i.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(o.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?c.create([1398893684,1701076831]).concat(r).concat(t):t).toString(l)},parse:function(e){var t,r=l.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=c.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),y.create({ciphertext:r,salt:t})}},w=i.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var o=e.createEncryptor(r,n),i=o.finalize(t),a=o.cfg;return y.create({ciphertext:i,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(o.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=c.random(8));var o=d.create({keySize:t+r}).compute(e,n),i=c.create(o.words.slice(t),4*r);return o.sigBytes=4*t,y.create({key:o,iv:i,salt:n})}},C=i.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:v}),encrypt:function(e,t,r,n){var o=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=o.iv;var i=w.encrypt.call(this,e,t,o.key,n);return i.mixIn(o),i},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var o=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=o.iv,w.decrypt.call(this,e,t,o.key,n)}}))))},3345:function(e,t,r){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(2480)}catch(e){}var o=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},c=a.lib={},s=c.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=c.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,o=e.sigBytes;if(this.clamp(),n%4)for(var i=0;i<o;i++){var a=r[i>>>2]>>>24-i%4*8&255;t[n+i>>>2]|=a<<24-(n+i)%4*8}else for(var c=0;c<o;c+=4)t[n+c>>>2]=r[c>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(o());return new u.init(t,e)}}),l=a.enc={},d=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(r,t/2)}},p=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o++){var i=t[o>>>2]>>>24-o%4*8&255;n.push(String.fromCharCode(i))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(r,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(p.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},_=c.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,o=n.words,i=n.sigBytes,a=this.blockSize,c=i/(4*a),s=(c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*a,l=e.min(4*s,i);if(s){for(var d=0;d<s;d+=a)this._doProcessBlock(o,d);r=o.splice(0,s),n.sigBytes-=l}return new u.init(r,l)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(c.Hasher=_.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new m.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math),n)},8269:function(e,t,r){var n,o,i;e.exports=(n=r(3345),i=(o=n).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var o=[],i=0;i<r;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,c=0;c<4&&i+.75*c<r;c++)o.push(n.charAt(a>>>6*(3-c)&63));var s=n.charAt(64);if(s)for(;o.length%4;)o.push(s);return o.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var c=e.indexOf(a);-1!==c&&(t=c)}return function(e,t,r){for(var n=[],o=0,a=0;a<t;a++)if(a%4){var c=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;n[o>>>2]|=c<<24-o%4*8,o++}return i.create(n,o)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)},5743:function(e,t,r){e.exports=r(3345).enc.Utf8},888:function(e,t,r){var n,o,i,a,c,s,u,l;e.exports=(l=r(3345),r(2783),r(9824),i=(o=(n=l).lib).Base,a=o.WordArray,s=(c=n.algo).MD5,u=c.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,o=n.hasher.create(),i=a.create(),c=i.words,s=n.keySize,u=n.iterations;c.length<s;){r&&o.update(r),r=o.update(e).finalize(t),o.reset();for(var l=1;l<u;l++)r=o.finalize(r),o.reset();i.concat(r)}return i.sigBytes=4*s,i}}),n.EvpKDF=function(e,t,r){return u.create(r).compute(e,t)},l.EvpKDF)},9824:function(e,t,r){var n,o,i;e.exports=(o=(n=r(3345)).lib.Base,i=n.enc.Utf8,void(n.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),c=o.words,s=a.words,u=0;u<r;u++)c[u]^=1549556828,s[u]^=909522486;o.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},8214:function(e,t,r){var n;e.exports=(n=r(3345),function(e){var t=n,r=t.lib,o=r.WordArray,i=r.Hasher,a=t.algo,c=[];!function(){for(var t=0;t<64;t++)c[t]=4294967296*e.abs(e.sin(t+1))|0}();var s=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,o=e[n];e[n]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],s=e[t+1],h=e[t+2],_=e[t+3],m=e[t+4],f=e[t+5],y=e[t+6],g=e[t+7],w=e[t+8],v=e[t+9],C=e[t+10],k=e[t+11],E=e[t+12],b=e[t+13],S=e[t+14],F=e[t+15],x=i[0],P=i[1],T=i[2],A=i[3];x=u(x,P,T,A,a,7,c[0]),A=u(A,x,P,T,s,12,c[1]),T=u(T,A,x,P,h,17,c[2]),P=u(P,T,A,x,_,22,c[3]),x=u(x,P,T,A,m,7,c[4]),A=u(A,x,P,T,f,12,c[5]),T=u(T,A,x,P,y,17,c[6]),P=u(P,T,A,x,g,22,c[7]),x=u(x,P,T,A,w,7,c[8]),A=u(A,x,P,T,v,12,c[9]),T=u(T,A,x,P,C,17,c[10]),P=u(P,T,A,x,k,22,c[11]),x=u(x,P,T,A,E,7,c[12]),A=u(A,x,P,T,b,12,c[13]),T=u(T,A,x,P,S,17,c[14]),x=l(x,P=u(P,T,A,x,F,22,c[15]),T,A,s,5,c[16]),A=l(A,x,P,T,y,9,c[17]),T=l(T,A,x,P,k,14,c[18]),P=l(P,T,A,x,a,20,c[19]),x=l(x,P,T,A,f,5,c[20]),A=l(A,x,P,T,C,9,c[21]),T=l(T,A,x,P,F,14,c[22]),P=l(P,T,A,x,m,20,c[23]),x=l(x,P,T,A,v,5,c[24]),A=l(A,x,P,T,S,9,c[25]),T=l(T,A,x,P,_,14,c[26]),P=l(P,T,A,x,w,20,c[27]),x=l(x,P,T,A,b,5,c[28]),A=l(A,x,P,T,h,9,c[29]),T=l(T,A,x,P,g,14,c[30]),x=d(x,P=l(P,T,A,x,E,20,c[31]),T,A,f,4,c[32]),A=d(A,x,P,T,w,11,c[33]),T=d(T,A,x,P,k,16,c[34]),P=d(P,T,A,x,S,23,c[35]),x=d(x,P,T,A,s,4,c[36]),A=d(A,x,P,T,m,11,c[37]),T=d(T,A,x,P,g,16,c[38]),P=d(P,T,A,x,C,23,c[39]),x=d(x,P,T,A,b,4,c[40]),A=d(A,x,P,T,a,11,c[41]),T=d(T,A,x,P,_,16,c[42]),P=d(P,T,A,x,y,23,c[43]),x=d(x,P,T,A,v,4,c[44]),A=d(A,x,P,T,E,11,c[45]),T=d(T,A,x,P,F,16,c[46]),x=p(x,P=d(P,T,A,x,h,23,c[47]),T,A,a,6,c[48]),A=p(A,x,P,T,g,10,c[49]),T=p(T,A,x,P,S,15,c[50]),P=p(P,T,A,x,f,21,c[51]),x=p(x,P,T,A,E,6,c[52]),A=p(A,x,P,T,_,10,c[53]),T=p(T,A,x,P,C,15,c[54]),P=p(P,T,A,x,s,21,c[55]),x=p(x,P,T,A,w,6,c[56]),A=p(A,x,P,T,F,10,c[57]),T=p(T,A,x,P,y,15,c[58]),P=p(P,T,A,x,b,21,c[59]),x=p(x,P,T,A,m,6,c[60]),A=p(A,x,P,T,k,10,c[61]),T=p(T,A,x,P,h,15,c[62]),P=p(P,T,A,x,v,21,c[63]),i[0]=i[0]+x|0,i[1]=i[1]+P|0,i[2]=i[2]+T|0,i[3]=i[3]+A|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,o=8*t.sigBytes;r[o>>>5]|=128<<24-o%32;var i=e.floor(n/4294967296),a=n;r[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(r.length+1),this._process();for(var c=this._hash,s=c.words,u=0;u<4;u++){var l=s[u];s[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return c},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,o,i,a){var c=e+(t&r|~t&n)+o+a;return(c<<i|c>>>32-i)+t}function l(e,t,r,n,o,i,a){var c=e+(t&n|r&~n)+o+a;return(c<<i|c>>>32-i)+t}function d(e,t,r,n,o,i,a){var c=e+(t^r^n)+o+a;return(c<<i|c>>>32-i)+t}function p(e,t,r,n,o,i,a){var c=e+(r^(t|~n))+o+a;return(c<<i|c>>>32-i)+t}t.MD5=i._createHelper(s),t.HmacMD5=i._createHmacHelper(s)}(Math),n.MD5)},5957:function(e,t,r){var n;e.exports=(n=r(3345),r(5109),n.pad.Pkcs7)},2783:function(e,t,r){var n,o,i,a,c,s,u,l;e.exports=(o=(n=l=r(3345)).lib,i=o.WordArray,a=o.Hasher,c=n.algo,s=[],u=c.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],i=r[2],a=r[3],c=r[4],u=0;u<80;u++){if(u<16)s[u]=0|e[t+u];else{var l=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=l<<1|l>>>31}var d=(n<<5|n>>>27)+c+s[u];d+=u<20?1518500249+(o&i|~o&a):u<40?1859775393+(o^i^a):u<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,c=a,a=i,i=o<<30|o>>>2,o=n,n=d}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+i|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=a._createHelper(u),n.HmacSHA1=a._createHmacHelper(u),l.SHA1)},2480:function(){}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e].call(i.exports,i,i.exports,o),i.exports}o.m=r,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,r){return o.f[r](e,t),t}),[]))},o.u=function(e){return"fp_agent.js"},o.miniCssF=function(e){return"checkout.css"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="woocommerce-payments:",o.l=function(r,n,i,a){if(e[r])e[r].push(n);else{var c,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){c=d;break}}c||(s=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.setAttribute("data-webpack",t+i),c.src=r),e[r]=[n];var p=function(t,n){c.onerror=c.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=p.bind(null,c.onerror),c.onload=p.bind(null,c.onload),s&&document.head.appendChild(c)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e}(),function(){var e={231:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise((function(r,o){n=e[t]=[r,o]}));r.push(n[2]=i);var a=o.p+o.u(t),c=new Error;o.l(a,(function(r){if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,n[1](c)}}),"chunk-"+t,t)}};var t=function(t,r){var n,i,a=r[0],c=r[1],s=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in c)o.o(c,n)&&(o.m[n]=c[n]);s&&s(o)}for(t&&t(r);u<a.length;u++)i=a[u],o.o(e,i)&&e[i]&&e[i][0](),e[a[u]]=0},r=self.webpackChunkwoocommerce_payments=self.webpackChunkwoocommerce_payments||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";const e=e=>("undefined"!=typeof wcpay_config?wcpay_config:wc.wcSettings.getSetting("woocommerce_payments_data"))[e]||null;var t=window.wp.i18n;window.wp.domReady;const r=e=>"object"==typeof wcpayPaymentRequestParams&&wcpayPaymentRequestParams.hasOwnProperty(e)?wcpayPaymentRequestParams[e]:null,n=e=>r("wc_ajax_url").toString().replace("%%endpoint%%","wcpay_"+e),i=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"wcpay_";return e.toString().replace("%%endpoint%%",r+t)};var a=function(t,n){var o,i,a;const c=null!==(o=e("platformTrackerNonce"))&&void 0!==o?o:null===(i=r("nonce"))||void 0===i?void 0:i.platform_tracker,s=null!==(a=e("ajaxUrl"))&&void 0!==a?a:r("ajax_url"),u=new FormData;u.append("tracksNonce",c),u.append("action","platform_tracks"),u.append("tracksEventName",t),u.append("tracksEventProp",n),fetch(s,{method:"post",body:u})},c={CONNECT_ACCOUNT_CLICKED:"wcpay_connect_account_clicked",CONNECT_ACCOUNT_VIEW:"page_view",CONNECT_ACCOUNT_LEARN_MORE:"wcpay_welcome_learn_more",CONNECT_ACCOUNT_STRIPE_CONNECTED:"wcpay_stripe_connected",CONNECT_ACCOUNT_KYC_MODAL_OPENED:"wcpay_connect_account_kyc_modal_opened",UPE_ENABLED:"wcpay_upe_enabled",UPE_DISABLED:"wcpay_upe_disabled",MULTI_CURRENCY_ENABLED_CURRENCIES_UPDATED:"wcpay_multi_currency_enabled_currencies_updated",PAYMENT_REQUEST_SETTINGS_CHANGE:"wcpay_payment_request_settings_change",SUBSCRIPTIONS_EMPTY_STATE_VIEW:"wcpay_subscriptions_empty_state_view",SUBSCRIPTIONS_EMPTY_STATE_FINISH_SETUP:"wcpay_subscriptions_empty_state_finish_setup",SUBSCRIPTIONS_EMPTY_STATE_CREATE_PRODUCT:"wcpay_subscriptions_empty_state_create_product",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_VIEW:"wcpay_subscriptions_account_not_connected_product_modal_view",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_FINISH_SETUP:"wcpay_subscriptions_account_not_connected_product_modal_finish_setup",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_DISMISS:"wcpay_subscriptions_account_not_connected_product_modal_dismiss",PLATFORM_CHECKOUT_OFFERED:"platform_checkout_offered",PLATFORM_CHECKOUT_OTP_START:"platform_checkout_otp_prompt_start",PLATFORM_CHECKOUT_OTP_COMPLETE:"platform_checkout_otp_prompt_complete",PLATFORM_CHECKOUT_OTP_FAILED:"platform_checkout_otp_prompt_failed",PLATFORM_CHECKOUT_AUTO_REDIRECT:"platform_checkout_auto_redirect",PLATFORM_CHECKOUT_SKIPPED:"platform_checkout_skipped"};async function s(e,t,r){const n=new FormData;for(const e in t)n.append(e,t[e]);const o=await fetch(e,{method:"POST",body:n,...r});return await o.json()}var u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="";o=e.includes("woocommerce-error")?e:'<ul class="woocommerce-error" role="alert"'+(n?' id="'+n+'"':"")+">"+e+"</ul>";let i=jQuery(".woocommerce-notices-wrapper, form.checkout");if(i=t?i.first():i.last(),!i.length)return;jQuery(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),i.prepend('<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout">'+o+"</div>"),r&&i.find(".input-text, select, input:checkbox").trigger("validate").blur();let a=jQuery(".woocommerce-NoticeGroup-checkout");a.length||(a=i),jQuery.scroll_to_notices(a),jQuery(document.body).trigger("checkout_error")};const l=e=>new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const r=document.querySelector('[data-block-name="woocommerce/checkout"]');if(!r)return t(null);new MutationObserver(((r,n)=>{document.querySelector(e)&&(t(document.querySelector(e)),n.disconnect())})).observe(r,{childList:!0,subtree:!0})}));var d=o(5743),p=o.n(d),h=o(452),_=o.n(h),m=o(5957),f=o.n(m);const y=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e("isClientEncryptionEnabled")&&3<t.length&&"pi_"!==t.slice(0,3)&&"seti_"!==t.slice(0,5)?(r=r||e("accountId"),p().stringify(_().decrypt(t,p().parse(r.slice(5)),{iv:p().parse("WC".repeat(8)),padding:f()}))):t};class g{constructor(e,t){this.options=e,this.stripe=null,this.stripePlatform=null,this.request=t}createStripe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o={locale:t};return r&&(o.stripeAccount=r),n&&(o.betas=n),new Stripe(e,o)}getStripe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{publishableKey:t,accountId:r,forceNetworkSavedCards:n,locale:o,isUPEEnabled:i,isStripeLinkEnabled:a}=this.options;if(n&&!e)return this.stripePlatform||(this.stripePlatform=this.createStripe(t,o)),this.stripePlatform;if(!this.stripe)if(i){let e=["card_country_event_beta_1"];a&&(e=e.concat(["link_autofill_modal_beta_1"])),this.stripe=this.createStripe(t,o,r,e)}else this.stripe=this.createStripe(t,o,r);return this.stripe}loadStripe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((t=>{try{t(this.getStripe(e))}catch(e){t({error:e})}}))}generatePaymentMethodRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.getStripe();return new class{constructor(){this.args={...e,billing_details:{address:{}}}}prepareValue(e,r){if(void 0!==r&&0!==r.length||(r=t[e]),void 0!==r&&0<r.length)return r}setBillingDetail(e,t){const r=this.prepareValue(e,t);void 0!==r&&(this.args.billing_details[e]=r)}setAddressDetail(e,t){const r=this.prepareValue(e,t);void 0!==r&&(this.args.billing_details.address[e]=r)}send(){return r.createPaymentMethod(this.args).then((e=>{if(e.error)throw e.error;return e}))}}}confirmIntent(t,n){const o=t.match(/#wcpay-confirm-(pi|si):(.+):(.+):(.+)$/);if(!o)return!0;const i="si"===o[1];let a=o[2];const c=o[3],s=o[4],u=t.indexOf("order-pay"),l=-1<u,d=l&&t.substring(u).match(/\d+/);return d&&(a=d[0]),{request:(()=>{const{locale:t,publishableKey:r}=this.options,n=e("accountIdForIntentConfirmation");return i?this.getStripe().confirmCardSetup(y(c)):n?this.createStripe(r,t,n).confirmCardPayment(y(c,n)):this.getStripe(!0).confirmCardPayment(y(c))})().then((t=>{var o;const i=t.paymentIntent&&t.paymentIntent.id||t.setupIntent&&t.setupIntent.id||t.error&&t.error.payment_intent&&t.error.payment_intent.id||t.error.setup_intent&&t.error.setup_intent.id,c=null!==(o=r("ajax_url"))&&void 0!==o?o:e("ajaxUrl");return[this.request(c,{action:"update_order_status",order_id:a,_ajax_nonce:s,intent_id:i,payment_method_id:n||null}),t.error]})).then((e=>{let[t,r]=e;if(r)throw r;return t.then((e=>{const t="string"==typeof e?JSON.parse(e):e;if(t.error)throw t.error;return t.return_url}))})),isOrderPage:l}}initSetupIntent(){return this.request(i(e("wcAjaxUrl"),"init_setup_intent"),{_ajax_nonce:e("createSetupIntentNonce")}).then((e=>{if(!e.success)throw e.data.error;return e.data}))}setupIntent(t){return this.request(e("ajaxUrl"),{action:"create_setup_intent","wcpay-payment-method":t,_ajax_nonce:e("createSetupIntentNonce")}).then((e=>{if(!e.success)throw e.data.error;return"succeeded"===e.data.status?e.data:this.getStripe().confirmCardSetup(y(e.data.client_secret)).then((e=>{const{setupIntent:t,error:r}=e;if(r)throw r;return t}))}))}createIntent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return this.request(i(e("wcAjaxUrl"),"create_payment_intent"),{wcpay_order_id:r,_ajax_nonce:e("createPaymentIntentNonce"),"wcpay-fingerprint":t}).then((e=>{if(!e.success)throw e.data.error;return e.data})).catch((e=>{throw e.message?e:new Error(e.statusText)}))}updateIntent(t,r,n,o,a,c){return this.request(i(e("wcAjaxUrl"),"update_payment_intent"),{wcpay_order_id:r,wc_payment_intent_id:t,save_payment_method:n,wcpay_selected_upe_payment_type:o,wcpay_payment_country:a,_ajax_nonce:e("updatePaymentIntentNonce"),"wcpay-fingerprint":c}).then((e=>{if("failure"===e.result)throw new Error(e.messages);return e})).catch((e=>{throw e.message?e:new Error(e.statusText)}))}async handlePaymentConfirmation(e,t,r){const n=this.getStripe(),o=await n.confirmPayment({elements:e,confirmParams:t});if(r&&o.error&&"lock_timeout"===o.error.code){const e=await n.retrievePaymentIntent(y(r));if(!e.error&&"succeeded"===e.paymentIntent.status)return window.location.href=t.redirect_url,e}return o}saveUPEAppearance(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request(e("ajaxUrl"),{is_blocks_checkout:r,appearance:JSON.stringify(t),action:"save_upe_appearance",_ajax_nonce:e("saveUPEAppearanceNonce")}).then((e=>e.success)).catch((e=>{throw e.message?e:new Error(e.statusText)}))}processCheckout(t,r,n){return this.request(i(e("wcAjaxUrl"),"checkout",""),{...r,wc_payment_intent_id:t,"wcpay-fingerprint":n}).then((e=>{if("failure"===e.result)throw new Error(e.messages);return e})).catch((e=>{throw e.message?e:new Error(e.statusText)}))}paymentRequestCalculateShippingOptions(e){var t;return this.request(n("get_shipping_options"),{security:null===(t=r("nonce"))||void 0===t?void 0:t.shipping,is_product_page:r("is_product_page"),...e})}paymentRequestUpdateShippingDetails(e){var t;return this.request(n("update_shipping_method"),{security:null===(t=r("nonce"))||void 0===t?void 0:t.update_shipping,shipping_method:[e.id],is_product_page:r("is_product_page")})}paymentRequestGetCartDetails(){var e;return this.request(n("get_cart_details"),{security:null===(e=r("nonce"))||void 0===e?void 0:e.get_cart_details})}paymentRequestAddToCart(e){var t;return this.request(n("add_to_cart"),{security:null===(t=r("nonce"))||void 0===t?void 0:t.add_to_cart,...e})}paymentRequestGetSelectedProductData(e){var t;return this.request(n("get_selected_product_data"),{security:null===(t=r("nonce"))||void 0===t?void 0:t.get_selected_product_data,...e})}paymentRequestCreateOrder(e){var t;return this.request(n("create_order"),{_wpnonce:null===(t=r("nonce"))||void 0===t?void 0:t.checkout,...e})}initPlatformCheckout(t,r){return this.request(i(e("wcAjaxUrl"),"init_platform_checkout"),{_wpnonce:e("initPlatformCheckoutNonce"),email:t,user_session:r})}paymentRequestPayForOrder(e,t){var o;return this.request(n("pay_for_order"),{_wpnonce:null===(o=r("nonce"))||void 0===o?void 0:o.pay_for_order,order:e,...t})}logPaymentError(t){return this.request(i(e("wcAjaxUrl"),"log_payment_error"),{charge_id:t,_ajax_nonce:e("logPaymentErrorNonce")}).then((()=>!0))}}const w="https://cdn.sift.com/s.js",v="https://js.stripe.com/v3",C={sift:e=>{let{beacon_key:t,session_id:r,user_id:n}=e;const o=window._sift=window._sift||[];if(o.push(["_setAccount",t]),o.push(["_setUserId",n]),o.push(["_setSessionId",r]),o.push(["_trackPageview"]),!document.querySelector(`[src="${w}"]`)){const e=document.createElement("script");e.src=w,e.async=!0,document.body.appendChild(e)}},stripe:()=>{if(!document.querySelector(`[src^="${v}"]`)){const e=document.createElement("script");e.src=v,e.async=!0,document.body.appendChild(e)}}};jQuery((function(r){(e=>{for(const t in e){const r=C[t];r&&e[t]&&r(e[t])}})(e("fraudServices"));let n="";const d=e("publishableKey");if(!d)return;const p=new g({publishableKey:d,accountId:e("accountId"),forceNetworkSavedCards:e("forceNetworkSavedCards"),locale:e("locale")},((e,t)=>new Promise(((r,n)=>{jQuery.post(e,t).then(r).fail(n)})))),h=p.getStripe().elements(),_="undefined"!=typeof wcpayCustomerData?wcpayCustomerData:{},m=h.create("card",{hidePostalCode:!0,classes:{base:"wcpay-card-mounted"}}),f={type:"card",card:m},y={type:"giropay"},w=h.create("iban",{supportedCountries:["SEPA"],classes:{base:"wcpay-sepa-mounted"}}),v={type:"sepa_debit",sepa_debit:w},k={type:"sofort"},E=e=>{e.addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},b=e=>{let t="";t=e.includes("woocommerce-error")?e:'<ul class="woocommerce-error" role="alert">'+e+"</ul>";const n=r(".woocommerce-notices-wrapper, form.checkout").first();if(!n.length)return;r(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),n.prepend('<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout">'+t+"</div>"),n.find(".input-text, select, input:checkbox").trigger("validate").blur();let o=r(".woocommerce-NoticeGroup-checkout");o.length||(o=n),r.scroll_to_notices(o),r(document.body).trigger("checkout_error")},S=function(){return r("#payment_method_woocommerce_payments_giropay").is(":checked")},F=function(){return r("#payment_method_woocommerce_payments_sepa").is(":checked")},x=function(){return r("#payment_method_woocommerce_payments_sofort").is(":checked")};let P;r(document.body).on("updated_checkout",(async()=>{if(r("#wcpay-card-element").length&&!r("#wcpay-card-element").children().length){if(m.unmount(),!n)try{const{visitorId:e}=await(async()=>{const e=await o.e(177).then(o.bind(o,2196)),t=await e.load({monitoring:!1});if(!t)throw new Error("Unable to load agent.");return await t.get()})();n=e}catch(e){return}m.mount("#wcpay-card-element")}r("#wcpay-sepa-element").length&&w.mount("#wcpay-sepa-element")})),(r("form#add_payment_method").length||r("form#order_review").length)&&(r("#wcpay-card-element").length&&!r("#wcpay-card-element").children().length&&m.mount("#wcpay-card-element"),r("#wcpay-sepa-element").length&&w.mount("#wcpay-sepa-element"),r(document.body).trigger("wc-credit-card-form-init")),m.addEventListener("change",(e=>{const t=r("#wcpay-errors");e.error?t.html('<ul class="woocommerce-error"><li /></ul>').find("li").text(e.error.message):t.empty()})),w.addEventListener("change",(e=>{const t=r("#wcpay-sepa-errors");e.error?t.html('<ul class="woocommerce-error"><li /></ul>').find("li").text(e.error.message):t.empty()}));const T=(e,t)=>{p.setupIntent(t.id).then((function(t){e.append(r('<input type="hidden" />').attr("id","wcpay-setup-intent").attr("name","wcpay-setup-intent").val(t.id));const n=r.blockUI.defaults.ignoreIfBlocked;r.blockUI.defaults.ignoreIfBlocked=!0,e.removeClass("processing").submit(),r.blockUI.defaults.ignoreIfBlocked=n})).catch((function(t){P=null,e.removeClass("processing").unblock(),b(t.message)}))},A=(e,t)=>{let{id:n}=t;const o=F()?"#wcpay-payment-method-sepa":"#wcpay-payment-method";r(o).val(n),e.removeClass("processing").submit()},D=(e,t,n)=>{if(P)return void(P=null);E(e);const o=p.generatePaymentMethodRequest(n,_),i=r("#billing_first_name").length?(r("#billing_first_name").val()+" "+r("#billing_last_name").val()).trim():void 0;return o.setBillingDetail("name",i),o.setBillingDetail("email",r("#billing_email").val()),o.setBillingDetail("phone",r("#billing_phone").val()),o.setAddressDetail("city",r("#billing_city").val()),o.setAddressDetail("country",r("#billing_country").val()),o.setAddressDetail("line1",r("#billing_address_1").val()),o.setAddressDetail("line2",r("#billing_address_2").val()),o.setAddressDetail("postal_code",r("#billing_postcode").val()),o.setAddressDetail("state",r("#billing_state").val()),o.send().then((r=>{let{paymentMethod:n}=r;P=!0,t(e,n)})).catch((t=>{e.removeClass("processing").unblock(),b(t.message)})),!1},O=()=>{let t=window.location.href;const n=e("intentSecret");if(n){const r="#wcpay-confirm-pi:0:"+n+":"+e("updateOrderNonce");t=window.location.pathname+window.location.search+r}const o=F()?r("#wcpay-payment-method-sepa").val():r("#wcpay-payment-method").val(),i=r("#wc-woocommerce_payments-new-payment-method").is(":checked"),a=p.confirmIntent(t,i?o:null);if(!0===a)return;const{request:c,isOrderPage:s}=a;s&&(E(r("#order_review")),r("#payment").hide(500)),history.replaceState("",document.title,window.location.pathname+window.location.search),c.then((e=>{window.location=e})).catch((t=>{r("form.checkout").removeClass("processing").unblock(),r("#order_review").removeClass("processing").unblock(),r("#payment").show(500);let n=t.message;t instanceof Error&&(n=e("genericErrorMessage")),b(n)}))};function B(){return!S()&&(F()?r("#wc-woocommerce_payments_sepa-payment-token-new").length&&!r("#wc-woocommerce_payments_sepa-payment-token-new").is(":checked"):r("#wc-woocommerce_payments-payment-token-new").length&&!r("#wc-woocommerce_payments-payment-token-new").is(":checked"))}const R=["woocommerce_payments_becs","woocommerce_payments","woocommerce_payments_giropay","woocommerce_payments_sepa","woocommerce_payments_sofort"].map((e=>`checkout_place_order_${e}`)).join(" ");r("form.checkout").on(R,(function(){if(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.find('input[name="wcpay-fingerprint"]').remove();const r=`<input type="hidden" name="wcpay-fingerprint" value="${t}" />`;e.append(r)}(r(this),n),!B()){let e=f;return F()?e=v:S()?e=y:x()&&(k.sofort={country:r("#billing_country").val()},e=k),D(r(this),A,e)}})),r("#order_review").on("submit",(()=>{if(!B()&&(document.getElementById("payment_method_woocommerce_payments").checked||F()))return D(r("#order_review"),A,F()?v:f)})),r("form#add_payment_method").on("submit",(function(){if("woocommerce_payments"===r("#add_payment_method input:checked[name='payment_method']").val()&&!r("#wcpay-setup-intent").val()){let e=f;return F()?e=v:S()?e=y:x()&&(e=k),D(r("form#add_payment_method"),T,e)}})),O(),window.addEventListener("hashchange",(()=>{window.location.hash.startsWith("#wcpay-confirm-")&&O()})),e("isPlatformCheckoutEnabled")&&null===new URLSearchParams(window.location.search).get("customize_messenger_channel")&&!e("isPreview")&&async function(r,n){let o,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const p=500,h=await l(r);let _=!1;if(!h)return;const m=document.createElement("div"),f=h.parentNode;m.classList.add("wc-block-components-spinner");const y=document.createElement("div");y.setAttribute("role","dialog"),y.setAttribute("aria-modal","true");const g=document.createElement("iframe");g.title=(0,t.__)("WooPay Login Session","woocommerce-payments"),g.classList.add("platform-checkout-login-session-iframe"),g.classList.add("intrinsic-ignore"),y.insertBefore(g,null);const w=document.createElement("div");w.setAttribute("role","dialog"),w.setAttribute("aria-modal","true"),w.classList.add("platform-checkout-otp-iframe-wrapper");const v=document.createElement("iframe");v.title=(0,t.__)("WooPay SMS code verification","woocommerce-payments"),v.classList.add("platform-checkout-otp-iframe"),v.classList.add("intrinsic-ignore");const C=document.createElement("span");C.setAttribute("aria-hidden","true"),C.classList.add("arrow");const k=768,E=new URLSearchParams(window.location.search),b="undefined"!=typeof performance&&"back_forward"===performance.getEntriesByType("navigation")[0].type||"true"===E.get("skip_platform_checkout");let S=!0;const F=()=>{(k<=window.innerWidth&&S||k>window.innerWidth&&!S)&&(S=!S,v.contentWindow.postMessage({action:"setHeader",value:S},e("platformCheckoutHost"))),document.body.style.overflow="hidden"},x=()=>{if(!v)return;if(k>=window.innerWidth)return v.style.left="0",void(v.style.right="");if(0>=v.getBoundingClientRect().top||0>=window.innerHeight-(v.getBoundingClientRect().height+v.getBoundingClientRect().top)){const e=50,t=document.documentElement.scrollTop+h.getBoundingClientRect().top-v.getBoundingClientRect().height/2-e;window.scrollTo({top:t})}const e=h.getBoundingClientRect(),t=v.getBoundingClientRect();v.style.top=Math.floor(e.top-t.height/2)+"px",C.style.top=Math.floor(e.top+e.height/2-parseFloat(window.getComputedStyle(C)["border-right-width"]))+"px",50>=window.innerWidth-(e.right+t.width)?(v.style.left="auto",C.style.left="auto",v.style.right="50px",C.style.right=`${t.width+50}px`):(v.style.left=`${e.right+5}px`,v.style.right="",C.style.left=e.right-10+"px",C.style.right="")};v.addEventListener("load",(()=>{S=!0,F(),window.addEventListener("resize",F),x(),window.addEventListener("resize",x),v.classList.add("open"),a(c.PLATFORM_CHECKOUT_OTP_START)})),w.insertBefore(C,null),w.insertBefore(v,null);const P=document.createElement("div");P.style["white-space"]="normal",P.textContent=(0,t.__)("WooPay is unavailable at this time. Please complete your checkout below. Sorry for the inconvenience.","woocommerce-payments");const T=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];window.removeEventListener("resize",F),window.removeEventListener("resize",x),w.remove(),v.classList.remove("open"),e&&h.focus(),document.body.style.overflow=""};w.addEventListener("click",T);const A=t=>{const r=new URLSearchParams;r.append("email",t),r.append("needsHeader",k>window.innerWidth),r.append("wcpayVersion",e("wcpayVersionNumber")),v.src=`${e("platformCheckoutHost")}/otp/?${r.toString()}`,f.insertBefore(w,null),x(),v.focus()},D=()=>{f.insertBefore(P,h.nextSibling)};document.addEventListener("keyup",(e=>{"Escape"===e.key&&T()&&e.stopPropagation()}));let O=!1;const B=new AbortController,{signal:R}=B;R.addEventListener("abort",(()=>{m.remove(),T(!1)})),d?(await l("button.wc-block-components-checkout-place-order-button")).addEventListener("click",(()=>{B.abort()})):document.querySelector('form[name="checkout"]').addEventListener("submit",(()=>{B.abort()}));const N=async t=>{if(f.insertBefore(m,h),f.contains(P)&&f.removeChild(P),O&&(document.querySelector("#platform-checkout-subscriptions-login-error").remove(),O=!1),e("platformCheckoutNeedLogin"))try{const r=await s(e("userExistsEndpoint"),{email:t},{signal:R});if(r["user-exists"])return O=!0,u(r.message,!1,!1,"platform-checkout-subscriptions-login-error"),void m.remove()}catch(e){"AbortError"!==e.name&&(D(),m.remove())}s(i(e("wcAjaxUrl"),"get_platform_checkout_signature"),{_ajax_nonce:e("platformCheckoutSignatureNonce")}).then((e=>{if(e.success)return e.data;throw new Error("Request for signature failed.")})).then((e=>{if(e.signature)return e.signature;throw new Error("Signature not found.")})).then((r=>{const n=new URLSearchParams;return n.append("email",t),n.append("test_mode",!!e("testMode")),n.append("wcpay_version",e("wcpayVersionNumber")),n.append("blog_id",e("platformCheckoutMerchantId")),n.append("request_signature",r),fetch(`${e("platformCheckoutHost")}/wp-json/platform-checkout/v1/user/exists?${n.toString()}`,{signal:R})})).then((e=>(200!==e.status&&D(),e.json()))).then((e=>{const r=new CustomEvent("PlatformCheckoutUserCheck",{detail:{isRegisteredUser:e["user-exists"]}});window.dispatchEvent(r),e["user-exists"]?A(t):"rest_invalid_param"!==e.code&&a(c.PLATFORM_CHECKOUT_OFFERED)})).catch((e=>{"AbortError"!==e.name&&D()})).finally((()=>{m.remove()}))},U=e=>new RegExp(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,}\.?$/i).test(e),I=()=>{y.remove(),g.classList.remove("open"),h.focus(),U(h.value)&&N(h.value)},M=t=>{const r=new URLSearchParams;U(t)&&(f.insertBefore(m,h),r.append("email",t),r.append("test_mode",!!e("testMode"))),g.src=`${e("platformCheckoutHost")}/login-session?${r.toString()}`,f.insertBefore(y,null),g.focus(),setTimeout((()=>{_||I()}),15e3)};if(h.addEventListener("input",(e=>{if(!_&&!b)return void(b&&M(h.value));const t=e.currentTarget.value;clearTimeout(o),m.remove(),o=setTimeout((()=>{U(t)&&N(t)}),p)})),window.addEventListener("message",(t=>{if(e("platformCheckoutHost").startsWith(t.origin))switch(t.data.action){case"auto_redirect_to_platform_checkout":_=!0,n.initPlatformCheckout("",t.data.platformCheckoutUserSession).then((e=>{"success"===e.result?(y.classList.add("platform-checkout-login-session-iframe-wrapper"),g.classList.add("open"),a(c.PLATFORM_CHECKOUT_AUTO_REDIRECT),m.remove(),window.location=e.url):I()}));break;case"close_auto_redirection_modal":_=!0,I();break;case"redirect_to_platform_checkout":a(c.PLATFORM_CHECKOUT_OTP_COMPLETE),n.initPlatformCheckout(h.value,t.data.platformCheckoutUserSession).then((e=>{"success"===e.result?window.location=e.url:(D(),T(!1))}));break;case"otp_validation_failed":a(c.PLATFORM_CHECKOUT_OTP_FAILED);break;case"close_modal":T();break;case"iframe_height":if(300<t.data.height)if(k<=window.innerWidth){v.style.height=t.data.height+"px";const e=h.getBoundingClientRect();v.style.top=Math.floor(e.top-t.data.height/2)+"px",C.style.top=Math.floor(e.top+e.height/2-parseFloat(window.getComputedStyle(C)["border-right-width"]))+"px"}else v.style.height="",v.style.top=""}})),window.addEventListener("pageshow",(function(e){e.persisted&&T(!1)})),b){a(c.PLATFORM_CHECKOUT_SKIPPED),E.delete("skip_platform_checkout");let{pathname:e}=window.location;""!==E.toString()&&(e+="?"+E.toString()),history.replaceState(null,null,e),T(!1)}else _||M(h.value)}("#billing_email",p)}))}()}();