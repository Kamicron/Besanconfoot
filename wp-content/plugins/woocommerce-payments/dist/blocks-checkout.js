!function(){var e,t,n={6664:function(e,t,n){!function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;function a(){}function s(){}s.resetWarningCache=a;var c,l,u=(c=function(e){e.exports=function(){function e(e,t,n,r,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}()},c(l={exports:{}},l.exports),l.exports),p=function(e){return null!==e&&"object"===n(e)},d="[object Object]",h=function e(t,n){if(!p(t)||!p(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var o=Object.prototype.toString.call(t)===d;if(o!==(Object.prototype.toString.call(n)===d))return!1;if(!o&&!r)return!1;var i=Object.keys(t),a=Object.keys(n);if(i.length!==a.length)return!1;for(var s={},c=0;c<i.length;c+=1)s[i[c]]=!0;for(var l=0;l<a.length;l+=1)s[a[l]]=!0;var u=Object.keys(s);if(u.length!==i.length)return!1;var h=t,f=n;return u.every((function(t){return e(h[t],f[t])}))},f=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},m=function(e){if(null===e||p(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;var t;throw new Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},y=function(e){if(function(e){return p(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(m)};var t=m(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},_=t.createContext(null);_.displayName="ElementsContext";var v=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useRef(!1),s=t.useRef(!0),c=t.useMemo((function(){return y(n)}),[n]),l=o(t.useState((function(){return{stripe:null,elements:null}})),2),u=l[0],p=l[1],d=f(n),m=f(r);return null!==d&&(d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),h(r,m)||console.warn("Unsupported prop change on Elements: You cannot change the `options` prop after setting the `stripe` prop.")),a.current||("sync"===c.tag&&(a.current=!0,p({stripe:c.stripe,elements:c.stripe.elements(r)})),"async"===c.tag&&(a.current=!0,c.stripePromise.then((function(e){e&&s.current&&p({stripe:e,elements:e.elements(r)})})))),t.useEffect((function(){return function(){s.current=!1}}),[]),t.useEffect((function(){var e=u.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.4.1"}),e.registerAppInfo({name:"react-stripe-js",version:"1.4.1",url:"https://stripe.com/docs/stripe-js/react"}))}),[u.stripe]),t.createElement(_.Provider,{value:u},i)};v.propTypes={stripe:u.any,options:u.object};var g=function(e){return function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(t.useContext(_),e)},w=function(e){return(0,e.children)(g("mounts <ElementsConsumer>"))};w.propTypes={children:u.func.isRequired};var C=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},E=function(e){return p(e)?(e.paymentRequest,r(e,["paymentRequest"])):{}},b=function(){},S=function(e,n){var r,o="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),i=n?function(e){g("mounts <".concat(o,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r=n.id,i=n.className,a=n.options,s=void 0===a?{}:a,c=n.onBlur,l=void 0===c?b:c,u=n.onFocus,p=void 0===u?b:u,d=n.onReady,f=void 0===d?b:d,m=n.onChange,y=void 0===m?b:m,_=n.onEscape,v=void 0===_?b:_,w=n.onClick,S=void 0===w?b:w,k=g("mounts <".concat(o,">")).elements,P=t.useRef(null),F=t.useRef(null),x=C(f),O=C(l),T=C(p),A=C(S),R=C(y),B=C(v);t.useLayoutEffect((function(){if(null==P.current&&k&&null!=F.current){var t=k.create(e,s);P.current=t,t.mount(F.current),t.on("ready",(function(){return x(t)})),t.on("change",R),t.on("blur",O),t.on("focus",T),t.on("escape",B),t.on("click",A)}}));var D=t.useRef(s);return t.useEffect((function(){D.current&&D.current.paymentRequest!==s.paymentRequest&&console.warn("Unsupported prop change: options.paymentRequest is not a customizable property.");var e=E(s);0===Object.keys(e).length||h(e,E(D.current))||P.current&&(P.current.update(e),D.current=s)}),[s]),t.useLayoutEffect((function(){return function(){P.current&&P.current.destroy()}}),[]),t.createElement("div",{id:r,className:i,ref:F})};return i.propTypes={id:u.string,className:u.string,onChange:u.func,onBlur:u.func,onFocus:u.func,onReady:u.func,onClick:u.func,options:u.object},i.displayName=o,i.__elementType=e,i},k="undefined"==typeof window,P=S("auBankAccount",k),F=S("card",k),x=S("cardNumber",k),O=S("cardExpiry",k),T=S("cardCvc",k),A=S("fpxBank",k),R=S("iban",k),B=S("idealBank",k),D=S("p24Bank",k),M=S("epsBank",k),I=S("payment",k),N=S("paymentRequestButton",k),L=S("afterpayClearpayMessage",k);e.AfterpayClearpayMessageElement=L,e.AuBankAccountElement=P,e.CardCvcElement=T,e.CardElement=F,e.CardExpiryElement=O,e.CardNumberElement=x,e.Elements=v,e.ElementsConsumer=w,e.EpsBankElement=M,e.FpxBankElement=A,e.IbanElement=R,e.IdealBankElement=B,e.P24BankElement=D,e.PaymentElement=I,e.PaymentRequestButtonElement=N,e.useElements=function(){return g("calls useElements()").elements},e.useStripe=function(){return g("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(9196))},452:function(e,t,n){var r;e.exports=(r=n(3345),n(8269),n(8214),n(888),n(5109),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],i=[],a=[],s=[],c=[],l=[],u=[],p=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var f=r^r<<1^r<<2^r<<3^r<<4;f=f>>>8^255&f^99,o[n]=f,i[f]=n;var m=e[n],y=e[m],_=e[y],v=257*e[f]^16843008*f;a[n]=v<<24|v>>>8,s[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,l[n]=v,v=16843009*_^65537*y^257*m^16843008*n,u[f]=v<<24|v>>>8,p[f]=v<<16|v>>>16,d[f]=v<<8|v>>>24,h[f]=v,n?(n=m^e[e[e[_^m]]],r^=e[e[r]]):n=r=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],a=0;a<r;a++)a<n?i[a]=t[a]:(l=i[a-1],a%n?n>6&&a%n==4&&(l=o[l>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l]):(l=o[(l=l<<8|l>>>24)>>>24]<<24|o[l>>>16&255]<<16|o[l>>>8&255]<<8|o[255&l],l^=f[a/n|0]<<24),i[a]=i[a-n]^l);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(a=r-c,c%4)var l=i[a];else l=i[a-4];s[c]=c<4||a<=4?l:u[o[l>>>24]]^p[o[l>>>16&255]]^d[o[l>>>8&255]]^h[o[255&l]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,p,d,h,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,s){for(var c=this._nRounds,l=e[t]^n[0],u=e[t+1]^n[1],p=e[t+2]^n[2],d=e[t+3]^n[3],h=4,f=1;f<c;f++){var m=r[l>>>24]^o[u>>>16&255]^i[p>>>8&255]^a[255&d]^n[h++],y=r[u>>>24]^o[p>>>16&255]^i[d>>>8&255]^a[255&l]^n[h++],_=r[p>>>24]^o[d>>>16&255]^i[l>>>8&255]^a[255&u]^n[h++],v=r[d>>>24]^o[l>>>16&255]^i[u>>>8&255]^a[255&p]^n[h++];l=m,u=y,p=_,d=v}m=(s[l>>>24]<<24|s[u>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[h++],y=(s[u>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^n[h++],_=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&u])^n[h++],v=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[u>>>8&255]<<8|s[255&p])^n[h++],e[t]=m,e[t+1]=y,e[t+2]=_,e[t+3]=v},keySize:8});e.AES=t._createHelper(m)}(),r.AES)},5109:function(e,t,n){var r,o,i,a,s,c,l,u,p,d,h,f,m,y,_,v,g,w,C;e.exports=(r=n(3345),n(888),void(r.lib.Cipher||(o=r,i=o.lib,a=i.Base,s=i.WordArray,c=i.BufferedBlockAlgorithm,l=o.enc,l.Utf8,u=l.Base64,p=o.algo.EvpKDF,d=i.Cipher=c.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?C:g}return function(t){return{encrypt:function(n,r,o){return e(r).encrypt(t,n,r,o)},decrypt:function(n,r,o){return e(r).decrypt(t,n,r,o)}}}}()}),i.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=o.mode={},f=i.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=h.CBC=function(){var e=f.extend();function t(e,t,n){var r,o=this._iv;o?(r=o,this._iv=void 0):r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize;t.call(this,e,n,o),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+o)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,o=r.blockSize,i=e.slice(n,n+o);r.decryptBlock(e,n),t.call(this,e,n,o),this._prevBlock=i}}),e}(),y=(o.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,o=r<<24|r<<16|r<<8|r,i=[],a=0;a<r;a+=4)i.push(o);var c=s.create(i,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:y}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),_=i.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(o.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?s.create([1398893684,1701076831]).concat(n).concat(t):t).toString(u)},parse:function(e){var t,n=u.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=s.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),_.create({ciphertext:n,salt:t})}},g=i.SerializableCipher=a.extend({cfg:a.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r),i=o.finalize(t),a=o.cfg;return _.create({ciphertext:i,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=(o.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=s.random(8));var o=p.create({keySize:t+n}).compute(e,r),i=s.create(o.words.slice(t),4*n);return o.sigBytes=4*t,_.create({key:o,iv:i,salt:r})}},C=i.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:w}),encrypt:function(e,t,n,r){var o=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=o.iv;var i=g.encrypt.call(this,e,t,o.key,r);return i.mixIn(o),i},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var o=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=o.iv,g.decrypt.call(this,e,t,o.key,r)}}))))},3345:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(e){}var o=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var s=0;s<o;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new l.init(t,e)}}),u=a.enc={},p=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,u=e.min(4*c,i);if(c){for(var p=0;p<c;p+=a)this._doProcessBlock(o,p);n=o.splice(0,c),r.sigBytes-=u}return new l.init(n,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(s.Hasher=f.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),r)},8269:function(e,t,n){var r,o,i;e.exports=(r=n(3345),i=(o=r).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;r[o>>>2]|=s<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},5743:function(e,t,n){e.exports=n(3345).enc.Utf8},888:function(e,t,n){var r,o,i,a,s,c,l,u;e.exports=(u=n(3345),n(2783),n(9824),i=(o=(r=u).lib).Base,a=o.WordArray,c=(s=r.algo).MD5,l=s.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),i=a.create(),s=i.words,c=r.keySize,l=r.iterations;s.length<c;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var u=1;u<l;u++)n=o.finalize(n),o.reset();i.concat(n)}return i.sigBytes=4*c,i}}),r.EvpKDF=function(e,t,n){return l.create(n).compute(e,t)},u.EvpKDF)},9824:function(e,t,n){var r,o,i;e.exports=(o=(r=n(3345)).lib.Base,i=r.enc.Utf8,void(r.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,c=a.words,l=0;l<n;l++)s[l]^=1549556828,c[l]^=909522486;o.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},8214:function(e,t,n){var r;e.exports=(r=n(3345),function(e){var t=r,n=t.lib,o=n.WordArray,i=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=i.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],f=e[t+3],m=e[t+4],y=e[t+5],_=e[t+6],v=e[t+7],g=e[t+8],w=e[t+9],C=e[t+10],E=e[t+11],b=e[t+12],S=e[t+13],k=e[t+14],P=e[t+15],F=i[0],x=i[1],O=i[2],T=i[3];F=l(F,x,O,T,a,7,s[0]),T=l(T,F,x,O,c,12,s[1]),O=l(O,T,F,x,h,17,s[2]),x=l(x,O,T,F,f,22,s[3]),F=l(F,x,O,T,m,7,s[4]),T=l(T,F,x,O,y,12,s[5]),O=l(O,T,F,x,_,17,s[6]),x=l(x,O,T,F,v,22,s[7]),F=l(F,x,O,T,g,7,s[8]),T=l(T,F,x,O,w,12,s[9]),O=l(O,T,F,x,C,17,s[10]),x=l(x,O,T,F,E,22,s[11]),F=l(F,x,O,T,b,7,s[12]),T=l(T,F,x,O,S,12,s[13]),O=l(O,T,F,x,k,17,s[14]),F=u(F,x=l(x,O,T,F,P,22,s[15]),O,T,c,5,s[16]),T=u(T,F,x,O,_,9,s[17]),O=u(O,T,F,x,E,14,s[18]),x=u(x,O,T,F,a,20,s[19]),F=u(F,x,O,T,y,5,s[20]),T=u(T,F,x,O,C,9,s[21]),O=u(O,T,F,x,P,14,s[22]),x=u(x,O,T,F,m,20,s[23]),F=u(F,x,O,T,w,5,s[24]),T=u(T,F,x,O,k,9,s[25]),O=u(O,T,F,x,f,14,s[26]),x=u(x,O,T,F,g,20,s[27]),F=u(F,x,O,T,S,5,s[28]),T=u(T,F,x,O,h,9,s[29]),O=u(O,T,F,x,v,14,s[30]),F=p(F,x=u(x,O,T,F,b,20,s[31]),O,T,y,4,s[32]),T=p(T,F,x,O,g,11,s[33]),O=p(O,T,F,x,E,16,s[34]),x=p(x,O,T,F,k,23,s[35]),F=p(F,x,O,T,c,4,s[36]),T=p(T,F,x,O,m,11,s[37]),O=p(O,T,F,x,v,16,s[38]),x=p(x,O,T,F,C,23,s[39]),F=p(F,x,O,T,S,4,s[40]),T=p(T,F,x,O,a,11,s[41]),O=p(O,T,F,x,f,16,s[42]),x=p(x,O,T,F,_,23,s[43]),F=p(F,x,O,T,w,4,s[44]),T=p(T,F,x,O,b,11,s[45]),O=p(O,T,F,x,P,16,s[46]),F=d(F,x=p(x,O,T,F,h,23,s[47]),O,T,a,6,s[48]),T=d(T,F,x,O,v,10,s[49]),O=d(O,T,F,x,k,15,s[50]),x=d(x,O,T,F,y,21,s[51]),F=d(F,x,O,T,b,6,s[52]),T=d(T,F,x,O,f,10,s[53]),O=d(O,T,F,x,C,15,s[54]),x=d(x,O,T,F,c,21,s[55]),F=d(F,x,O,T,g,6,s[56]),T=d(T,F,x,O,P,10,s[57]),O=d(O,T,F,x,_,15,s[58]),x=d(x,O,T,F,S,21,s[59]),F=d(F,x,O,T,m,6,s[60]),T=d(T,F,x,O,E,10,s[61]),O=d(O,T,F,x,h,15,s[62]),x=d(x,O,T,F,w,21,s[63]),i[0]=i[0]+F|0,i[1]=i[1]+x|0,i[2]=i[2]+O|0,i[3]=i[3]+T|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var i=e.floor(r/4294967296),a=r;n[15+(o+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,l=0;l<4;l++){var u=c[l];c[l]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});function l(e,t,n,r,o,i,a){var s=e+(t&n|~t&r)+o+a;return(s<<i|s>>>32-i)+t}function u(e,t,n,r,o,i,a){var s=e+(t&r|n&~r)+o+a;return(s<<i|s>>>32-i)+t}function p(e,t,n,r,o,i,a){var s=e+(t^n^r)+o+a;return(s<<i|s>>>32-i)+t}function d(e,t,n,r,o,i,a){var s=e+(n^(t|~r))+o+a;return(s<<i|s>>>32-i)+t}t.MD5=i._createHelper(c),t.HmacMD5=i._createHmacHelper(c)}(Math),r.MD5)},5957:function(e,t,n){var r;e.exports=(r=n(3345),n(5109),r.pad.Pkcs7)},2783:function(e,t,n){var r,o,i,a,s,c,l,u;e.exports=(o=(r=u=n(3345)).lib,i=o.WordArray,a=o.Hasher,s=r.algo,c=[],l=s.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],s=n[4],l=0;l<80;l++){if(l<16)c[l]=0|e[t+l];else{var u=c[l-3]^c[l-8]^c[l-14]^c[l-16];c[l]=u<<1|u>>>31}var p=(r<<5|r>>>27)+s+c[l];p+=l<20?1518500249+(o&i|~o&a):l<40?1859775393+(o^i^a):l<60?(o&i|o&a|i&a)-1894007588:(o^i^a)-899497514,s=a,a=i,i=o<<30|o>>>2,o=r,r=p}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(l),r.HmacSHA1=a._createHmacHelper(l),u.SHA1)},9196:function(e){"use strict";e.exports=window.React},2480:function(){}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.m=n,o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))},o.u=function(e){return"fp_agent.js"},o.miniCssF=function(e){return"blocks-checkout.css"},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="woocommerce-payments:",o.l=function(n,r,i,a){if(e[n])e[n].push(r);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==t+i){s=p;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var d=function(t,r){s.onerror=s.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(e){return e(r)})),t)return t(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e}(),function(){var e={125:0};o.f.j=function(t,n){var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,o){r=e[t]=[n,o]}));n.push(r[2]=i);var a=o.p+o.u(t),s=new Error;o.l(a,(function(n){if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,a=n[0],s=n[1],c=n[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);c&&c(o)}for(t&&t(n);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[a[l]]=0},n=self.webpackChunkwoocommerce_payments=self.webpackChunkwoocommerce_payments||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=window.wp.element,t=window.wp.i18n,n=window.wc.wcBlocksRegistry;const r="woocommerce_payments",i="woocommerce_payments_payment_request",a="woocommerce_payments_woopay_express_checkout",s=e=>("undefined"!=typeof wcpay_config?wcpay_config:wc.wcSettings.getSetting("woocommerce_payments_data"))[e]||null,c=e=>"object"==typeof wcpayPaymentRequestParams&&wcpayPaymentRequestParams.hasOwnProperty(e)?wcpayPaymentRequestParams[e]:null,l=e=>({label:c("total_label"),amount:e}),u=e=>{var t,n,r;let{stripe:o,total:i,requestShipping:a,displayItems:s}=e,u=null===(t=c("checkout"))||void 0===t?void 0:t.country_code;"PR"===u&&(u="US");const p={total:l(i),currency:null===(n=c("checkout"))||void 0===n?void 0:n.currency_code,country:u,requestPayerName:!0,requestPayerEmail:!0,requestPayerPhone:null===(r=c("checkout"))||void 0===r?void 0:r.needs_payer_phone,requestShipping:a,displayItems:s};return o.paymentRequest(p)},p=e=>c("wc_ajax_url").toString().replace("%%endpoint%%","wcpay_"+e),d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"wcpay_";return e.toString().replace("%%endpoint%%",n+t)};var h=o(5743),f=o.n(h),m=o(452),y=o.n(m),_=o(5957),v=o.n(_);const g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s("isClientEncryptionEnabled")&&3<e.length&&"pi_"!==e.slice(0,3)&&"seti_"!==e.slice(0,5)?(t=t||s("accountId"),f().stringify(y().decrypt(e,f().parse(t.slice(5)),{iv:f().parse("WC".repeat(8)),padding:v()}))):e};function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}var C=o(6664);const E=(t,n,r,o,i,a)=>{(0,e.useEffect)((()=>o((e=>{let{processingResponse:{paymentDetails:n}}=e;return async function(e,t,n,r){const{redirect:o,payment_method:i}=t;try{const t=e.confirmIntent(o,r?i:null);if(!0===t)return{type:"success",redirectUrl:o};const{request:n}=t;return{type:"success",redirectUrl:await n}}catch(e){return{type:"error",message:e.message,messageContext:n.noticeContexts.PAYMENTS}}}(t,n,i,a)}))),[r,n,t,a])},b=t=>{let{api:n,activePaymentMethod:i,stripe:a,elements:s,billing:{billingData:c},eventRegistration:{onPaymentProcessing:l,onCheckoutAfterProcessingWithSuccess:u},emitResponse:p,shouldSavePayment:d}=t;const[h,f]=(0,e.useState)(null),[m]=(()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{try{const{visitorId:e}=await(async()=>{const e=await o.e(177).then(o.bind(o,2196)),t=await e.load({monitoring:!1});if(!t)throw new Error("Unable to load agent.");return await t.get()})();n(e)}catch(e){i(e)}})()}),[]),[t,r]})();return(0,e.useEffect)((()=>l((()=>{if(r!==i)return;if(h)return{type:"error",message:h};const e=s.getElement(C.CardElement);return(async(e,t,n,o)=>{const i=e.generatePaymentMethodRequest(t);i.setBillingDetail("name",(n.first_name+" "+n.last_name).trim()),i.setBillingDetail("email",n.email),i.setBillingDetail("phone",n.phone),i.setAddressDetail("city",n.city),i.setAddressDetail("country",n.country),i.setAddressDetail("line1",n.address_1),i.setAddressDetail("line2",n.address_2),i.setAddressDetail("postal_code",n.postcode),i.setAddressDetail("state",n.state);try{var a;const{paymentMethod:{id:e}}=await i.send(),t=null===(a=document.querySelector("#wcpay-fraud-prevention-token"))||void 0===a?void 0:a.getAttribute("value");return{type:"success",meta:{paymentMethodData:{paymentMethod:r,"wcpay-payment-method":e,"wcpay-fraud-prevention-token":null!=t?t:"","wcpay-fingerprint":o}}}}catch(e){return{type:"error",message:e.message}}})(n,{type:"card",card:e},c,m)}))),[s,a,i,c,m]),E(n,a,s,u,p,d),(0,e.createElement)("div",{className:"wc-block-gateway-container wc-inline-card-element"},(0,e.createElement)(C.CardElement,{options:{hidePostalCode:!0,classes:{base:"wcpay-card-mounted"}},onChange:e=>{let{error:t}=e;f(t?t.message:null)}}))};var S=t=>{let{api:n,...r}=t;return(0,e.createElement)(C.Elements,{stripe:n.getStripe()},(0,e.createElement)(C.ElementsConsumer,null,(t=>{let{elements:o,stripe:i}=t;return(0,e.createElement)(b,w({api:n,elements:o,stripe:i},r))})))};async function k(e,t,n){const r=new FormData;for(const e in t)r.append(e,t[e]);const o=await fetch(e,{method:"POST",body:r,...n});return await o.json()}const P="https://cdn.sift.com/s.js",F="https://js.stripe.com/v3",x={sift:e=>{let{beacon_key:t,session_id:n,user_id:r}=e;const o=window._sift=window._sift||[];if(o.push(["_setAccount",t]),o.push(["_setUserId",r]),o.push(["_setSessionId",n]),o.push(["_trackPageview"]),!document.querySelector(`[src="${P}"]`)){const e=document.createElement("script");e.src=P,e.async=!0,document.body.appendChild(e)}},stripe:()=>{if(!document.querySelector(`[src^="${F}"]`)){const e=document.createElement("script");e.src=F,e.async=!0,document.body.appendChild(e)}}},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.filter((e=>!!e.value)).map((e=>({amount:e.value,label:e.label,pending:t})))},T=t=>{var n;let{api:r,billing:o,shippingData:i,setExpressPaymentError:a,onClick:s,onClose:p}=t;const d=(0,C.useStripe)(),[h,f]=(0,e.useState)(null),[m,y]=(0,e.useState)(!1),[_,v]=(0,e.useState)("");(0,e.useEffect)((()=>{var e,t;if(!d||null==o||null===(e=o.cartTotal)||void 0===e||!e.value||m||h)return;const n=u({stripe:d,total:null==o||null===(t=o.cartTotal)||void 0===t?void 0:t.value,requestShipping:null==i?void 0:i.needsShipping,displayItems:O(null==o?void 0:o.cartTotalItems)});n.canMakePayment().then((e=>{e&&(f(n),e.applePay?v("apple_pay"):e.googlePay?v("google_pay"):v("payment_request_api"))}))}),[d,h,null==o||null===(n=o.cartTotal)||void 0===n?void 0:n.value,m,null==i?void 0:i.needsShipping,null==o?void 0:o.cartTotalItems]),(0,e.useEffect)((()=>{f(null)}),[i.needsShipping]);const g=(0,e.useCallback)(((e,t)=>{var n;if(c("login_confirmation"))return e.preventDefault(),void(e=>{var t;if(!c("login_confirmation"))return;let n=null===(t=c("login_confirmation"))||void 0===t?void 0:t.message;var r;"payment_request_api"!==e&&(n=n.replace(/\*\*.*?\*\*/,"apple_pay"===e?"Apple Pay":"Google Pay")),n=n.replace(/\*\*/g,""),confirm(n)&&(window.location.href=null===(r=c("login_confirmation"))||void 0===r?void 0:r.redirect_url)})(_);y(!1),a(""),(e=>{let{paymentRequest:t,total:n,displayItems:r}=e;t.update({total:l(n),displayItems:r})})({paymentRequest:h,total:null==o||null===(n=o.cartTotal)||void 0===n?void 0:n.value,displayItems:O(null==o?void 0:o.cartTotalItems)}),s(),t&&t.show()}),[s,h,_,a,o.cartTotal,o.cartTotalItems]);return(0,e.useEffect)((()=>{const e=e=>{y(!0),window.location=e},t=(e,t)=>{e.complete("fail"),y(!0),a(t)};return null==h||h.on("shippingaddresschange",(e=>(async(e,t)=>{const n=await e.paymentRequestCalculateShippingOptions((r=t.shippingAddress,{first_name:null!==(o=null==r||null===(i=r.recipient)||void 0===i||null===(a=i.split(" "))||void 0===a||null===(s=a.slice(0,1))||void 0===s?void 0:s.join(" "))&&void 0!==o?o:"",last_name:null!==(c=null==r||null===(l=r.recipient)||void 0===l||null===(u=l.split(" "))||void 0===u||null===(p=u.slice(1))||void 0===p?void 0:p.join(" "))&&void 0!==c?c:"",company:"",address_1:null!==(d=null==r||null===(h=r.addressLine)||void 0===h?void 0:h[0])&&void 0!==d?d:"",address_2:null!==(f=null==r||null===(m=r.addressLine)||void 0===m?void 0:m[1])&&void 0!==f?f:"",city:null!==(y=null==r?void 0:r.city)&&void 0!==y?y:"",state:null!==(_=null==r?void 0:r.region)&&void 0!==_?_:"",country:null!==(v=null==r?void 0:r.country)&&void 0!==v?v:"",postcode:null!==(g=null==r||null===(w=r.postalCode)||void 0===w?void 0:w.replace(" ",""))&&void 0!==g?g:""}));var r,o,i,a,s,c,l,u,p,d,h,f,m,y,_,v,g,w;t.updateWith({status:n.result,shippingOptions:n.shipping_options,total:n.total,displayItems:n.displayItems})})(r,e))),null==h||h.on("shippingoptionchange",(e=>(async(e,t)=>{const n=await e.paymentRequestUpdateShippingDetails(t.shippingOption);"success"===n.result&&t.updateWith({status:"success",total:n.total,displayItems:n.displayItems}),"fail"===n.result&&t.updateWith({status:"fail"})})(r,e))),null==h||h.on("paymentmethod",(n=>(async(e,t,n,r)=>{const o=await e.paymentRequestCreateOrder((e=>{var t,n,r,o,i,a,s,c,l,u,p,d,h,f,m,y,_,v,g,w,C,E,b,S,k,P,F,x,O,T,A,R,B,D,M,I,N,L,U,j,q,H,z,W,K,V,$,Z;const Y=null!==(t=null==e||null===(n=e.paymentMethod)||void 0===n||null===(r=n.billing_details)||void 0===r?void 0:r.name)&&void 0!==t?t:e.payerName,G=null!==(o=null==e||null===(i=e.paymentMethod)||void 0===i||null===(a=i.billing_details)||void 0===a?void 0:a.email)&&void 0!==o?o:"",Q=null!==(s=null==e||null===(c=e.paymentMethod)||void 0===c||null===(l=c.billing_details)||void 0===l?void 0:l.phone)&&void 0!==s?s:"",X=null!==(u=null==e||null===(p=e.paymentMethod)||void 0===p||null===(d=p.billing_details)||void 0===d?void 0:d.address)&&void 0!==u?u:{},J=null!==(h=null==e?void 0:e.shippingAddress)&&void 0!==h?h:{};let ee="payment_request_api";return"applePay"===(null==e?void 0:e.walletName)?ee="apple_pay":"googlePay"===(null==e?void 0:e.walletName)&&(ee="google_pay"),{billing_first_name:null!==(f=null==Y||null===(m=Y.split(" "))||void 0===m||null===(y=m.slice(0,1))||void 0===y?void 0:y.join(" "))&&void 0!==f?f:"",billing_last_name:(null==Y||null===(_=Y.split(" "))||void 0===_||null===(v=_.slice(1))||void 0===v?void 0:v.join(" "))||"-",billing_company:null!==(g=null==X?void 0:X.organization)&&void 0!==g?g:"",billing_email:null!==(w=null!=G?G:null==e?void 0:e.payerEmail)&&void 0!==w?w:"",billing_phone:null!==(C=null!=Q?Q:null==e||null===(E=e.payerPhone)||void 0===E?void 0:E.replace("/[() -]/g",""))&&void 0!==C?C:"",billing_country:null!==(b=null==X?void 0:X.country)&&void 0!==b?b:"",billing_address_1:null!==(S=null==X?void 0:X.line1)&&void 0!==S?S:"",billing_address_2:null!==(k=null==X?void 0:X.line2)&&void 0!==k?k:"",billing_city:null!==(P=null==X?void 0:X.city)&&void 0!==P?P:"",billing_state:null!==(F=null==X?void 0:X.state)&&void 0!==F?F:"",billing_postcode:null!==(x=null==X?void 0:X.postal_code)&&void 0!==x?x:"",shipping_first_name:null!==(O=null==J||null===(T=J.recipient)||void 0===T||null===(A=T.split(" "))||void 0===A||null===(R=A.slice(0,1))||void 0===R?void 0:R.join(" "))&&void 0!==O?O:"",shipping_last_name:null!==(B=null==J||null===(D=J.recipient)||void 0===D||null===(M=D.split(" "))||void 0===M||null===(I=M.slice(1))||void 0===I?void 0:I.join(" "))&&void 0!==B?B:"",shipping_company:null!==(N=null==J?void 0:J.organization)&&void 0!==N?N:"",shipping_country:null!==(L=null==J?void 0:J.country)&&void 0!==L?L:"",shipping_address_1:null!==(U=null==J||null===(j=J.addressLine)||void 0===j?void 0:j[0])&&void 0!==U?U:"",shipping_address_2:null!==(q=null==J||null===(H=J.addressLine)||void 0===H?void 0:H[1])&&void 0!==q?q:"",shipping_city:null!==(z=null==J?void 0:J.city)&&void 0!==z?z:"",shipping_state:null!==(W=null==J?void 0:J.region)&&void 0!==W?W:"",shipping_postcode:null!==(K=null==J?void 0:J.postalCode)&&void 0!==K?K:"",shipping_method:[null!==(V=null==e||null===($=e.shippingOption)||void 0===$?void 0:$.id)&&void 0!==V?V:null],order_comments:"",payment_method:"woocommerce_payments",ship_to_different_address:1,terms:1,"wcpay-payment-method":null==e||null===(Z=e.paymentMethod)||void 0===Z?void 0:Z.id,payment_request_type:ee}})(r));(async(e,t,n,r,o)=>{if("success"!==t.result)return r(o,(e=>{const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild?t.firstChild.textContent:""})(t.messages));try{const r=e.confirmIntent(t.redirect);if(o.complete("success"),!0===r)n(t.redirect);else{const{request:e}=r;n(await e)}}catch(e){r(o,e.message)}})(e,o,t,n,r)})(r,e,t,n))),null==h||h.on("cancel",(()=>{y(!1),f(null),p()})),()=>{null==h||h.removeAllListeners()}}),[a,h,r,y,f,p]),{paymentRequest:h,onButtonClick:g,paymentRequestType:_}},A=t=>{let{api:n,billing:r,shippingData:o,setExpressPaymentError:i,onClick:a,onClose:s}=t;const{paymentRequest:l,onButtonClick:u}=T({api:n,billing:r,shippingData:o,setExpressPaymentError:i,onClick:a,onClose:s}),{type:p,theme:d,height:h}=c("button"),f={paymentRequestButton:{type:p,theme:d,height:h+"px"}};return l?(0,e.createElement)(C.PaymentRequestButtonElement,{onClick:u,options:{style:f,paymentRequest:l}}):null},R=t=>{const{stripe:n}=t;return(0,e.createElement)(C.Elements,{stripe:n},(0,e.createElement)(A,t))},B=()=>(0,e.createElement)("img",{src:"data:image/svg+xml,%3Csvg width='264' height='48' viewBox='0 0 264 48' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='264' height='48' rx='3' fill='black'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M125.114 16.6407C125.682 15.93 126.067 14.9756 125.966 14C125.135 14.0415 124.121 14.549 123.533 15.2602C123.006 15.8693 122.539 16.8641 122.661 17.7983C123.594 17.8797 124.526 17.3317 125.114 16.6407Z' fill='white'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M125.955 17.982C124.601 17.9011 123.448 18.7518 122.801 18.7518C122.154 18.7518 121.163 18.0224 120.092 18.0421C118.696 18.0629 117.402 18.8524 116.694 20.1079C115.238 22.6196 116.31 26.3453 117.726 28.3909C118.414 29.4028 119.242 30.5174 120.334 30.4769C121.366 30.4365 121.77 29.8087 123.024 29.8087C124.277 29.8087 124.641 30.4769 125.733 30.4567C126.865 30.4365 127.573 29.4443 128.261 28.4313C129.049 27.2779 129.373 26.1639 129.393 26.1027C129.373 26.0825 127.209 25.2515 127.189 22.7606C127.169 20.6751 128.888 19.6834 128.969 19.6217C127.998 18.1847 126.481 18.0224 125.955 17.982Z' fill='white'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M136.131 23.1804H138.834C140.886 23.1804 142.053 22.0752 142.053 20.1592C142.053 18.2432 140.886 17.1478 138.845 17.1478H136.131V23.1804ZM139.466 15.1582C142.411 15.1582 144.461 17.1903 144.461 20.1483C144.461 23.1172 142.369 25.1596 139.392 25.1596H136.131V30.3498H133.775V15.1582H139.466Z' fill='white'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152.198 26.224V25.3712L149.579 25.5397C148.106 25.6341 147.339 26.182 147.339 27.14C147.339 28.0664 148.138 28.6667 149.39 28.6667C150.988 28.6667 152.198 27.6449 152.198 26.224ZM145.046 27.2032C145.046 25.2551 146.529 24.1395 149.263 23.971L152.198 23.7922V22.9498C152.198 21.7181 151.388 21.0442 149.947 21.0442C148.758 21.0442 147.896 21.6548 147.717 22.5916H145.592C145.656 20.6232 147.507 19.1914 150.01 19.1914C152.703 19.1914 154.459 20.602 154.459 22.7917V30.351H152.282V28.5298H152.229C151.609 29.719 150.241 30.4666 148.758 30.4666C146.571 30.4666 145.046 29.1612 145.046 27.2032Z' fill='white'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M156.461 34.4145V32.5934C156.608 32.6141 156.965 32.6354 157.155 32.6354C158.196 32.6354 158.785 32.1932 159.142 31.0564L159.353 30.3824L155.366 19.3281H157.827L160.604 28.298H160.657L163.434 19.3281H165.832L161.698 30.9402C160.752 33.6038 159.668 34.4778 157.376 34.4778C157.197 34.4778 156.618 34.4565 156.461 34.4145Z' fill='white'/%3E%3C/svg%3E%0A",alt:""});window.wp.domReady;var D=function(e,t){var n,r,o;const i=null!==(n=s("platformTrackerNonce"))&&void 0!==n?n:null===(r=c("nonce"))||void 0===r?void 0:r.platform_tracker,a=null!==(o=s("ajaxUrl"))&&void 0!==o?o:c("ajax_url"),l=new FormData;l.append("tracksNonce",i),l.append("action","platform_tracks"),l.append("tracksEventName",e),l.append("tracksEventProp",t),fetch(a,{method:"post",body:l})},M={CONNECT_ACCOUNT_CLICKED:"wcpay_connect_account_clicked",CONNECT_ACCOUNT_VIEW:"page_view",CONNECT_ACCOUNT_LEARN_MORE:"wcpay_welcome_learn_more",CONNECT_ACCOUNT_STRIPE_CONNECTED:"wcpay_stripe_connected",CONNECT_ACCOUNT_KYC_MODAL_OPENED:"wcpay_connect_account_kyc_modal_opened",UPE_ENABLED:"wcpay_upe_enabled",UPE_DISABLED:"wcpay_upe_disabled",MULTI_CURRENCY_ENABLED_CURRENCIES_UPDATED:"wcpay_multi_currency_enabled_currencies_updated",PAYMENT_REQUEST_SETTINGS_CHANGE:"wcpay_payment_request_settings_change",SUBSCRIPTIONS_EMPTY_STATE_VIEW:"wcpay_subscriptions_empty_state_view",SUBSCRIPTIONS_EMPTY_STATE_FINISH_SETUP:"wcpay_subscriptions_empty_state_finish_setup",SUBSCRIPTIONS_EMPTY_STATE_CREATE_PRODUCT:"wcpay_subscriptions_empty_state_create_product",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_VIEW:"wcpay_subscriptions_account_not_connected_product_modal_view",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_FINISH_SETUP:"wcpay_subscriptions_account_not_connected_product_modal_finish_setup",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_DISMISS:"wcpay_subscriptions_account_not_connected_product_modal_dismiss",PLATFORM_CHECKOUT_OFFERED:"platform_checkout_offered",PLATFORM_CHECKOUT_OTP_START:"platform_checkout_otp_prompt_start",PLATFORM_CHECKOUT_OTP_COMPLETE:"platform_checkout_otp_prompt_complete",PLATFORM_CHECKOUT_OTP_FAILED:"platform_checkout_otp_prompt_failed",PLATFORM_CHECKOUT_AUTO_REDIRECT:"platform_checkout_auto_redirect",PLATFORM_CHECKOUT_SKIPPED:"platform_checkout_skipped"},I=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="";o=e.includes("woocommerce-error")?e:'<ul class="woocommerce-error" role="alert"'+(r?' id="'+r+'"':"")+">"+e+"</ul>";let i=jQuery(".woocommerce-notices-wrapper, form.checkout");if(i=t?i.first():i.last(),!i.length)return;jQuery(".woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message").remove(),i.prepend('<div class="woocommerce-NoticeGroup woocommerce-NoticeGroup-checkout">'+o+"</div>"),n&&i.find(".input-text, select, input:checkbox").trigger("validate").blur();let a=jQuery(".woocommerce-NoticeGroup-checkout");a.length||(a=i),jQuery.scroll_to_notices(a),jQuery(document.body).trigger("checkout_error")};const N=e=>new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const n=document.querySelector('[data-block-name="woocommerce/checkout"]');if(!n)return t(null);new MutationObserver(((n,r)=>{document.querySelector(e)&&(t(document.querySelector(e)),r.disconnect())})).observe(n,{childList:!0,subtree:!0})}));o(9196);var L=t=>(0,e.createElement)("svg",w({width:"66",height:"23",viewBox:"0 0 66 23",xmlns:"http://www.w3.org/2000/svg"},t),(0,e.createElement)("path",{d:"M34.0204 10.1855C33.8008 11.1827 33.4087 11.9231 32.8283 12.4217C32.3735 12.8146 31.95 12.9808 31.5579 12.9052C31.1814 12.8297 30.8677 12.5124 30.6324 11.9231C30.4442 11.4547 30.3501 10.9863 30.3501 10.5481C30.3501 10.1704 30.3815 9.79261 30.4599 9.44508C30.6011 8.82557 30.8677 8.22118 31.2912 7.647C31.8088 6.90662 32.3578 6.60442 32.9225 6.71019C33.2989 6.78574 33.6126 7.10304 33.8479 7.69233C34.0361 8.16074 34.1302 8.62914 34.1302 9.06733C34.1302 9.46019 34.0831 9.83793 34.0204 10.1855Z"}),(0,e.createElement)("path",{d:"M22.9931 12.4217C23.5735 11.9231 23.9656 11.1827 24.1852 10.1855C24.2636 9.83793 24.295 9.46019 24.295 9.06733C24.295 8.62914 24.2009 8.16074 24.0127 7.69233C23.7774 7.10304 23.4637 6.78574 23.0873 6.71019C22.5226 6.60442 21.9736 6.90662 21.456 7.647C21.0325 8.22118 20.7659 8.82557 20.6247 9.44508C20.5463 9.79261 20.5149 10.1704 20.5149 10.5481C20.5149 10.9863 20.609 11.4547 20.7972 11.9231C21.0325 12.5124 21.3462 12.8297 21.7227 12.9052C22.1148 12.9808 22.5383 12.8146 22.9931 12.4217Z"}),(0,e.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.1499 0.5H3.92097C1.94465 0.5 0.344781 2.05632 0.360466 3.94505V15.4286C0.360466 17.3324 1.96034 18.8736 3.93665 18.8736H18.7276L25.4879 22.5L23.9508 18.8736H35.1499C37.1262 18.8736 38.7261 17.3324 38.7261 15.4286V3.94505C38.7261 2.04121 37.1262 0.5 35.1499 0.5ZM3.26226 3.15932C2.82308 3.18954 2.49369 3.34064 2.2741 3.62773C2.05451 3.89971 1.97609 4.24724 2.02314 4.6401C2.94856 10.3063 3.81124 14.1291 4.61117 16.1085C4.92487 16.8338 5.28563 17.1813 5.70913 17.1511C6.3679 17.1058 7.15215 16.2294 8.07757 14.522C8.5638 13.5549 9.31669 12.1044 10.3362 10.1703C11.1832 13.0261 12.3439 15.1717 13.8026 16.6071C14.2104 17.0151 14.6339 17.1964 15.0417 17.1662C15.4025 17.136 15.6848 16.9547 15.873 16.6222C16.0299 16.3352 16.0926 16.0027 16.0613 15.625C15.9671 14.25 16.1083 12.331 16.5004 9.86812C16.9082 7.32966 17.4102 5.50136 18.0219 4.41345C18.1474 4.1868 18.1944 3.96015 18.1787 3.68817C18.1474 3.34064 17.9905 3.05356 17.6925 2.82691C17.3945 2.60026 17.0651 2.49449 16.7043 2.52471C16.2495 2.55493 15.9044 2.76647 15.6691 3.18955C14.6967 4.89696 14.0065 7.66207 13.5987 11.5C13.0027 10.0494 12.5007 8.34202 12.1086 6.3324C11.9361 5.44092 11.5126 5.01784 10.8224 5.06317C10.3519 5.09339 9.95977 5.39559 9.64607 5.96976L6.21105 12.2706C5.64639 10.0797 5.11309 7.40521 4.62686 4.24724C4.51706 3.46152 4.0622 3.09888 3.26226 3.15932ZM35.9967 6.00002C35.4321 5.0481 34.6008 4.47392 33.4871 4.24728C33.1891 4.18684 32.9068 4.15662 32.6401 4.15662C31.1344 4.15662 29.9109 4.91211 28.9541 6.4231C28.1385 7.70744 27.7307 9.12777 27.7307 10.6841C27.7307 11.8476 27.9817 12.8448 28.4836 13.6758C29.0483 14.6278 29.8796 15.2019 30.9932 15.4286C31.2912 15.489 31.5735 15.5193 31.8402 15.5193C33.3616 15.5193 34.5851 14.7638 35.5262 13.2528C36.3418 11.9533 36.7496 10.533 36.7496 8.97667C36.7496 7.7981 36.4986 6.81596 35.9967 6.00002ZM23.6519 4.24728C24.7499 4.47392 25.5969 5.0481 26.1615 6.00002C26.6634 6.81596 26.9144 7.7981 26.9144 8.97667C26.9144 10.533 26.5066 11.9533 25.691 13.2528C24.7499 14.7638 23.5264 15.5193 22.005 15.5193C21.7383 15.5193 21.456 15.489 21.158 15.4286C20.0444 15.2019 19.2131 14.6278 18.6484 13.6758C18.1465 12.8448 17.8955 11.8476 17.8955 10.6841C17.8955 9.12777 18.3033 7.70744 19.1189 6.4231C20.0757 4.91211 21.2992 4.15662 22.8049 4.15662C23.0716 4.15662 23.3539 4.18684 23.6519 4.24728Z"}),(0,e.createElement)("path",{d:"M41.876 3.64282H45.2016C46.3722 3.64282 47.3122 3.97334 48.0216 4.63437C48.7311 5.2954 49.0858 6.16702 49.0858 7.24924C49.0858 8.38996 48.7252 9.28498 48.0039 9.93431C47.2885 10.5778 46.2953 10.8995 45.0242 10.8995H44.563V15.3571H41.876V3.64282ZM44.563 5.88916V8.6532C45.1661 8.6415 45.6095 8.52743 45.8933 8.31099C46.183 8.09454 46.3278 7.75233 46.3278 7.28434C46.3278 6.78126 46.1889 6.42734 45.911 6.2226C45.6331 6.012 45.1838 5.90086 44.563 5.88916Z"}),(0,e.createElement)("path",{d:"M57.8064 15.3571H55.0129L54.5606 13.4003H51.7228L51.2528 15.3571H48.5125L51.6519 3.64282H54.667L57.8064 15.3571ZM54.0463 11.2944C53.6442 9.55115 53.3427 7.89272 53.1417 6.31912H53.1062C52.8934 7.93952 52.5948 9.59795 52.2105 11.2944H54.0463Z"}),(0,e.createElement)("path",{d:"M56.612 3.64282H59.6272C60.2952 5.32757 60.78 6.62624 61.0816 7.53881H61.117C61.4186 6.60284 61.8974 5.30417 62.5537 3.64282H65.6398L62.465 10.0572V15.3571H59.7425V10.0572L56.612 3.64282Z"}));const U=n=>{let{isPreview:r=!1,buttonSettings:o}=n;const{type:i,text:a,height:s,size:c,theme:l}=o;return(0,e.createElement)("button",{key:`${i}-${l}-${c}`,onClick:e=>{e.preventDefault()},className:"woopay-express-button","data-type":i,"data-size":c,"data-theme":l,style:{height:`${s}px`}},"default"!==i?(0,t.sprintf)((0,t.__)("%s with","woocommerce-payments"),a):"",(0,e.createElement)(L,null))};var j,q;const H=new class{constructor(e,t){this.options=e,this.stripe=null,this.stripePlatform=null,this.request=t}createStripe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o={locale:t};return n&&(o.stripeAccount=n),r&&(o.betas=r),new Stripe(e,o)}getStripe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{publishableKey:t,accountId:n,forceNetworkSavedCards:r,locale:o,isUPEEnabled:i,isStripeLinkEnabled:a}=this.options;if(r&&!e)return this.stripePlatform||(this.stripePlatform=this.createStripe(t,o)),this.stripePlatform;if(!this.stripe)if(i){let e=["card_country_event_beta_1"];a&&(e=e.concat(["link_autofill_modal_beta_1"])),this.stripe=this.createStripe(t,o,n,e)}else this.stripe=this.createStripe(t,o,n);return this.stripe}loadStripe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((t=>{try{t(this.getStripe(e))}catch(e){t({error:e})}}))}generatePaymentMethodRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getStripe();return new class{constructor(){this.args={...e,billing_details:{address:{}}}}prepareValue(e,n){if(void 0!==n&&0!==n.length||(n=t[e]),void 0!==n&&0<n.length)return n}setBillingDetail(e,t){const n=this.prepareValue(e,t);void 0!==n&&(this.args.billing_details[e]=n)}setAddressDetail(e,t){const n=this.prepareValue(e,t);void 0!==n&&(this.args.billing_details.address[e]=n)}send(){return n.createPaymentMethod(this.args).then((e=>{if(e.error)throw e.error;return e}))}}}confirmIntent(e,t){const n=e.match(/#wcpay-confirm-(pi|si):(.+):(.+):(.+)$/);if(!n)return!0;const r="si"===n[1];let o=n[2];const i=n[3],a=n[4],l=e.indexOf("order-pay"),u=-1<l,p=u&&e.substring(l).match(/\d+/);return p&&(o=p[0]),{request:(()=>{const{locale:e,publishableKey:t}=this.options,n=s("accountIdForIntentConfirmation");return r?this.getStripe().confirmCardSetup(g(i)):n?this.createStripe(t,e,n).confirmCardPayment(g(i,n)):this.getStripe(!0).confirmCardPayment(g(i))})().then((e=>{var n;const r=e.paymentIntent&&e.paymentIntent.id||e.setupIntent&&e.setupIntent.id||e.error&&e.error.payment_intent&&e.error.payment_intent.id||e.error.setup_intent&&e.error.setup_intent.id,i=null!==(n=c("ajax_url"))&&void 0!==n?n:s("ajaxUrl");return[this.request(i,{action:"update_order_status",order_id:o,_ajax_nonce:a,intent_id:r,payment_method_id:t||null}),e.error]})).then((e=>{let[t,n]=e;if(n)throw n;return t.then((e=>{const t="string"==typeof e?JSON.parse(e):e;if(t.error)throw t.error;return t.return_url}))})),isOrderPage:u}}initSetupIntent(){return this.request(d(s("wcAjaxUrl"),"init_setup_intent"),{_ajax_nonce:s("createSetupIntentNonce")}).then((e=>{if(!e.success)throw e.data.error;return e.data}))}setupIntent(e){return this.request(s("ajaxUrl"),{action:"create_setup_intent","wcpay-payment-method":e,_ajax_nonce:s("createSetupIntentNonce")}).then((e=>{if(!e.success)throw e.data.error;return"succeeded"===e.data.status?e.data:this.getStripe().confirmCardSetup(g(e.data.client_secret)).then((e=>{const{setupIntent:t,error:n}=e;if(n)throw n;return t}))}))}createIntent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return this.request(d(s("wcAjaxUrl"),"create_payment_intent"),{wcpay_order_id:t,_ajax_nonce:s("createPaymentIntentNonce"),"wcpay-fingerprint":e}).then((e=>{if(!e.success)throw e.data.error;return e.data})).catch((e=>{throw e.message?e:new Error(e.statusText)}))}updateIntent(e,t,n,r,o,i){return this.request(d(s("wcAjaxUrl"),"update_payment_intent"),{wcpay_order_id:t,wc_payment_intent_id:e,save_payment_method:n,wcpay_selected_upe_payment_type:r,wcpay_payment_country:o,_ajax_nonce:s("updatePaymentIntentNonce"),"wcpay-fingerprint":i}).then((e=>{if("failure"===e.result)throw new Error(e.messages);return e})).catch((e=>{throw e.message?e:new Error(e.statusText)}))}async handlePaymentConfirmation(e,t,n){const r=this.getStripe(),o=await r.confirmPayment({elements:e,confirmParams:t});if(n&&o.error&&"lock_timeout"===o.error.code){const e=await r.retrievePaymentIntent(g(n));if(!e.error&&"succeeded"===e.paymentIntent.status)return window.location.href=t.redirect_url,e}return o}saveUPEAppearance(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.request(s("ajaxUrl"),{is_blocks_checkout:t,appearance:JSON.stringify(e),action:"save_upe_appearance",_ajax_nonce:s("saveUPEAppearanceNonce")}).then((e=>e.success)).catch((e=>{throw e.message?e:new Error(e.statusText)}))}processCheckout(e,t,n){return this.request(d(s("wcAjaxUrl"),"checkout",""),{...t,wc_payment_intent_id:e,"wcpay-fingerprint":n}).then((e=>{if("failure"===e.result)throw new Error(e.messages);return e})).catch((e=>{throw e.message?e:new Error(e.statusText)}))}paymentRequestCalculateShippingOptions(e){var t;return this.request(p("get_shipping_options"),{security:null===(t=c("nonce"))||void 0===t?void 0:t.shipping,is_product_page:c("is_product_page"),...e})}paymentRequestUpdateShippingDetails(e){var t;return this.request(p("update_shipping_method"),{security:null===(t=c("nonce"))||void 0===t?void 0:t.update_shipping,shipping_method:[e.id],is_product_page:c("is_product_page")})}paymentRequestGetCartDetails(){var e;return this.request(p("get_cart_details"),{security:null===(e=c("nonce"))||void 0===e?void 0:e.get_cart_details})}paymentRequestAddToCart(e){var t;return this.request(p("add_to_cart"),{security:null===(t=c("nonce"))||void 0===t?void 0:t.add_to_cart,...e})}paymentRequestGetSelectedProductData(e){var t;return this.request(p("get_selected_product_data"),{security:null===(t=c("nonce"))||void 0===t?void 0:t.get_selected_product_data,...e})}paymentRequestCreateOrder(e){var t;return this.request(p("create_order"),{_wpnonce:null===(t=c("nonce"))||void 0===t?void 0:t.checkout,...e})}initPlatformCheckout(e,t){return this.request(d(s("wcAjaxUrl"),"init_platform_checkout"),{_wpnonce:s("initPlatformCheckoutNonce"),email:e,user_session:t})}paymentRequestPayForOrder(e,t){var n;return this.request(p("pay_for_order"),{_wpnonce:null===(n=c("nonce"))||void 0===n?void 0:n.pay_for_order,order:e,...t})}logPaymentError(e){return this.request(d(s("wcAjaxUrl"),"log_payment_error"),{charge_id:e,_ajax_nonce:s("logPaymentErrorNonce")}).then((()=>!0))}}({publishableKey:s("publishableKey"),accountId:s("accountId"),forceNetworkSavedCards:s("forceNetworkSavedCards"),locale:s("locale")},k);var z,W;(0,n.registerPaymentMethod)({name:r,content:(0,e.createElement)(S,{api:H}),edit:(0,e.createElement)(S,{api:H}),savedTokenComponent:(0,e.createElement)((t=>{let{api:n,stripe:r,elements:o,eventRegistration:{onCheckoutAfterProcessingWithSuccess:i},emitResponse:a}=t;return E(n,r,o,i,a,!1),(0,e.createElement)(e.Fragment,null)}),{api:H}),canMakePayment:()=>!!H.getStripe(),paymentMethodId:r,label:(0,t.__)("Credit card","woocommerce-payments"),ariaLabel:(0,t.__)("Credit card","woocommerce-payments"),supports:{showSavedCards:null!==(j=s("isSavedCardsEnabled"))&&void 0!==j&&j,showSaveOption:null!==(q=s("isSavedCardsEnabled"))&&void 0!==q&&q,features:s("features")}}),(0,n.registerExpressPaymentMethod)((t=>({name:i,content:(0,e.createElement)(R,{api:t,stripe:t.loadStripe(!0)}),edit:(0,e.createElement)(B,null),canMakePayment:e=>!!s("is_admin")||"undefined"!=typeof wcpayPaymentRequestParams&&t.loadStripe(!0).then((t=>{var n,r;return u({stripe:t,total:parseInt(null!==(n=null==e||null===(r=e.cartTotals)||void 0===r?void 0:r.total_price)&&void 0!==n?n:0,10),requestShipping:null==e?void 0:e.cartNeedsShipping,displayItems:[]}).canMakePayment()})),paymentMethodId:i,supports:{features:s("features")}}))(H)),s("isPlatformCheckoutEnabled")&&(document.querySelector('[data-block-name="woocommerce/checkout"]')&&async function(e,n){let r,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=500,a=await N(e);let c=!1;if(!a)return;const l=document.createElement("div"),u=a.parentNode;l.classList.add("wc-block-components-spinner");const p=document.createElement("div");p.setAttribute("role","dialog"),p.setAttribute("aria-modal","true");const h=document.createElement("iframe");h.title=(0,t.__)("WooPay Login Session","woocommerce-payments"),h.classList.add("platform-checkout-login-session-iframe"),h.classList.add("intrinsic-ignore"),p.insertBefore(h,null);const f=document.createElement("div");f.setAttribute("role","dialog"),f.setAttribute("aria-modal","true"),f.classList.add("platform-checkout-otp-iframe-wrapper");const m=document.createElement("iframe");m.title=(0,t.__)("WooPay SMS code verification","woocommerce-payments"),m.classList.add("platform-checkout-otp-iframe"),m.classList.add("intrinsic-ignore");const y=document.createElement("span");y.setAttribute("aria-hidden","true"),y.classList.add("arrow");const _=768,v=new URLSearchParams(window.location.search),g="undefined"!=typeof performance&&"back_forward"===performance.getEntriesByType("navigation")[0].type||"true"===v.get("skip_platform_checkout");let w=!0;const C=()=>{(_<=window.innerWidth&&w||_>window.innerWidth&&!w)&&(w=!w,m.contentWindow.postMessage({action:"setHeader",value:w},s("platformCheckoutHost"))),document.body.style.overflow="hidden"},E=()=>{if(!m)return;if(_>=window.innerWidth)return m.style.left="0",void(m.style.right="");if(0>=m.getBoundingClientRect().top||0>=window.innerHeight-(m.getBoundingClientRect().height+m.getBoundingClientRect().top)){const e=50,t=document.documentElement.scrollTop+a.getBoundingClientRect().top-m.getBoundingClientRect().height/2-e;window.scrollTo({top:t})}const e=a.getBoundingClientRect(),t=m.getBoundingClientRect();m.style.top=Math.floor(e.top-t.height/2)+"px",y.style.top=Math.floor(e.top+e.height/2-parseFloat(window.getComputedStyle(y)["border-right-width"]))+"px",50>=window.innerWidth-(e.right+t.width)?(m.style.left="auto",y.style.left="auto",m.style.right="50px",y.style.right=`${t.width+50}px`):(m.style.left=`${e.right+5}px`,m.style.right="",y.style.left=e.right-10+"px",y.style.right="")};m.addEventListener("load",(()=>{w=!0,C(),window.addEventListener("resize",C),E(),window.addEventListener("resize",E),m.classList.add("open"),D(M.PLATFORM_CHECKOUT_OTP_START)})),f.insertBefore(y,null),f.insertBefore(m,null);const b=document.createElement("div");b.style["white-space"]="normal",b.textContent=(0,t.__)("WooPay is unavailable at this time. Please complete your checkout below. Sorry for the inconvenience.","woocommerce-payments");const S=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];window.removeEventListener("resize",C),window.removeEventListener("resize",E),f.remove(),m.classList.remove("open"),e&&a.focus(),document.body.style.overflow=""};f.addEventListener("click",S);const P=e=>{const t=new URLSearchParams;t.append("email",e),t.append("needsHeader",_>window.innerWidth),t.append("wcpayVersion",s("wcpayVersionNumber")),m.src=`${s("platformCheckoutHost")}/otp/?${t.toString()}`,u.insertBefore(f,null),E(),m.focus()},F=()=>{u.insertBefore(b,a.nextSibling)};document.addEventListener("keyup",(e=>{"Escape"===e.key&&S()&&e.stopPropagation()}));let x=!1;const O=new AbortController,{signal:T}=O;T.addEventListener("abort",(()=>{l.remove(),S(!1)})),o?(await N("button.wc-block-components-checkout-place-order-button")).addEventListener("click",(()=>{O.abort()})):document.querySelector('form[name="checkout"]').addEventListener("submit",(()=>{O.abort()}));const A=async e=>{if(u.insertBefore(l,a),u.contains(b)&&u.removeChild(b),x&&(document.querySelector("#platform-checkout-subscriptions-login-error").remove(),x=!1),s("platformCheckoutNeedLogin"))try{const t=await k(s("userExistsEndpoint"),{email:e},{signal:T});if(t["user-exists"])return x=!0,I(t.message,!1,!1,"platform-checkout-subscriptions-login-error"),void l.remove()}catch(e){"AbortError"!==e.name&&(F(),l.remove())}k(d(s("wcAjaxUrl"),"get_platform_checkout_signature"),{_ajax_nonce:s("platformCheckoutSignatureNonce")}).then((e=>{if(e.success)return e.data;throw new Error("Request for signature failed.")})).then((e=>{if(e.signature)return e.signature;throw new Error("Signature not found.")})).then((t=>{const n=new URLSearchParams;return n.append("email",e),n.append("test_mode",!!s("testMode")),n.append("wcpay_version",s("wcpayVersionNumber")),n.append("blog_id",s("platformCheckoutMerchantId")),n.append("request_signature",t),fetch(`${s("platformCheckoutHost")}/wp-json/platform-checkout/v1/user/exists?${n.toString()}`,{signal:T})})).then((e=>(200!==e.status&&F(),e.json()))).then((t=>{const n=new CustomEvent("PlatformCheckoutUserCheck",{detail:{isRegisteredUser:t["user-exists"]}});window.dispatchEvent(n),t["user-exists"]?P(e):"rest_invalid_param"!==t.code&&D(M.PLATFORM_CHECKOUT_OFFERED)})).catch((e=>{"AbortError"!==e.name&&F()})).finally((()=>{l.remove()}))},R=e=>new RegExp(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,}\.?$/i).test(e),B=()=>{p.remove(),h.classList.remove("open"),a.focus(),R(a.value)&&A(a.value)},L=e=>{const t=new URLSearchParams;R(e)&&(u.insertBefore(l,a),t.append("email",e),t.append("test_mode",!!s("testMode"))),h.src=`${s("platformCheckoutHost")}/login-session?${t.toString()}`,u.insertBefore(p,null),h.focus(),setTimeout((()=>{c||B()}),15e3)};if(a.addEventListener("input",(e=>{if(!c&&!g)return void(g&&L(a.value));const t=e.currentTarget.value;clearTimeout(r),l.remove(),r=setTimeout((()=>{R(t)&&A(t)}),i)})),window.addEventListener("message",(e=>{if(s("platformCheckoutHost").startsWith(e.origin))switch(e.data.action){case"auto_redirect_to_platform_checkout":c=!0,n.initPlatformCheckout("",e.data.platformCheckoutUserSession).then((e=>{"success"===e.result?(p.classList.add("platform-checkout-login-session-iframe-wrapper"),h.classList.add("open"),D(M.PLATFORM_CHECKOUT_AUTO_REDIRECT),l.remove(),window.location=e.url):B()}));break;case"close_auto_redirection_modal":c=!0,B();break;case"redirect_to_platform_checkout":D(M.PLATFORM_CHECKOUT_OTP_COMPLETE),n.initPlatformCheckout(a.value,e.data.platformCheckoutUserSession).then((e=>{"success"===e.result?window.location=e.url:(F(),S(!1))}));break;case"otp_validation_failed":D(M.PLATFORM_CHECKOUT_OTP_FAILED);break;case"close_modal":S();break;case"iframe_height":if(300<e.data.height)if(_<=window.innerWidth){m.style.height=e.data.height+"px";const t=a.getBoundingClientRect();m.style.top=Math.floor(t.top-e.data.height/2)+"px",y.style.top=Math.floor(t.top+t.height/2-parseFloat(window.getComputedStyle(y)["border-right-width"]))+"px"}else m.style.height="",m.style.top=""}})),window.addEventListener("pageshow",(function(e){e.persisted&&S(!1)})),g){D(M.PLATFORM_CHECKOUT_SKIPPED),v.delete("skip_platform_checkout");let{pathname:e}=window.location;""!==v.toString()&&(e+="?"+v.toString()),history.replaceState(null,null,e),S(!1)}else c||L(a.value)}("#email",H,!0),s("isWoopayExpressCheckoutEnabled")&&(0,n.registerExpressPaymentMethod)({name:a,content:(0,e.createElement)(U,{buttonSettings:null===(z=wcpayWooPayExpressParams)||void 0===z?void 0:z.button}),edit:(0,e.createElement)(U,{buttonSettings:null===(W=wcpayWooPayExpressParams)||void 0===W?void 0:W.button,isPreview:!0}),canMakePayment:()=>!0,paymentMethodId:a,supports:{features:s("features")}})),window.addEventListener("load",(()=>{(e=>{for(const t in e){const n=x[t];n&&e[t]&&n(e[t])}})(s("fraudServices"))}))}()}();